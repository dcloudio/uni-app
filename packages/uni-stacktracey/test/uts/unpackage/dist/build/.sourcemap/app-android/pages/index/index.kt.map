{"version":3,"sources":["pages/index/index.uvue","uni_modules/uni-upgrade-center-app/utils/call-check-version.uts","uni_modules/uni-upgrade-center-app/utils/check-update.uts"],"sourcesContent":["<template>\n  <view>\n    <image class=\"logo\" src=\"/static/logo.png\"></image>\n    <view class=\"text-area\">\n      <text class=\"title\">{{title}}</text>\n    </view>\n    <button @click=\"error\">error</button>\n    <button @click=\"openSchemaError\">openSchemaError</button>\n    <navigator url=\"/pages/C/C\">\n      <button>C</button>\n    </navigator>\n    <view style=\"padding: 30rpx 0;\">扫描结果：{{result}}</view>\n    <button type=\"primary\" @click=\"scan\">开启扫描</button>\n    {{modelValue}}\n    <!-- <input type=\"digit\" v-model=\"modelValue\"/> -->\n    <!-- <input type=\"number\" v-model=\"modelValue\"/> -->\n    <button @click=\"checkUpdate\">升级中心</button>\n    <button @click=\"test\">test</button>\n\n\n\n    <button @click=\"getAppBaseInfo\">getAppBaseInfo</button>\n  </view>\n</template>\n\n<script>\n  // import { scanCode, ScanCodeSuccessCallbackResult, ScanCodeOption } from '@/uni_modules/lime-scan';\n\n  import checkUpdate from \"@/uni_modules/uni-upgrade-center-app/utils/check-update\"\n  import { UniUpgradeCenterResult } from \"@/uni_modules/uni-upgrade-center-app/utils/call-check-version\"\n  import { openSchema } from '@/uni_modules/uts-openSchema'\n\n\n  const themeChange = (res: OnHostThemeChangeCallbackResult) => {\n    console.log('res: ', res);\n  }\n\n  export default {\n    data() {\n      return {\n        title: 'Hello',\n        type: '',\n        result: '',\n        modelValue: 0,\n        themeId: -1,\n      }\n    },\n    onLoad(_ : OnLoadOptions) {\n      const info = uni.getSystemInfoSync()\n      console.log(info)\n      this.themeId = uni.onHostThemeChange(themeChange)\n\n      uni.setAppTheme({\n        theme: \"auto\"\n      })\n\n\n\n\n    },\n    methods: {\n      openSchemaError() {\n        openSchema('12312312')\n      },\n      error() {\n        setTimeout(() => {\n          throw new Error('setTimeout ABC')\n        }, 1000)\n        throw new Error('ABC')\n      },\n      getAppBaseInfo() {\n        console.log(uni.getAppBaseInfo())\n      },\n      offHostThemeChange() {\n\n\n\n      },\n      test() {\n\n\n\n\n\n      },\n      update() {\n\n        const info : UniUpgradeCenterResult = {\n          _id: '',\n          message: '',\n          code: 0,\n          min_uni_version: '',\n          \"is_silently\": false,\n          \"is_mandatory\": false,\n          \"appid\": \"__UNI__HelloUniAppX\",\n          \"name\": \"Hello uni-app x\",\n          \"title\": \"1.6.3更新\",\n          \"contents\": \"1. 使用HBuilderX4.31版本编译\\n2. 新增ad、map、native-view等组件示例\\n3. 新增隐私政策页面示例\\n4. 优化其它示例用户体验\",\n          \"platform\": [\n            \"Android\"\n          ],\n          \"version\": \"1.6.3\",\n          \"url\": \"https://web-ext-storage.dcloud.net.cn/uni-app-x/pkg/hello-uniappx.apk\",\n          \"stable_publish\": true,\n          \"type\": \"native_app\",\n          \"store_list\": [],\n          \"uni_platform\": \"android\",\n          \"create_env\": \"upgrade-center\",\n          \"create_date\": 1729853731640\n        }\n\n        uni.setStorageSync('PACK_INFO', info)\n        uni.openDialogPage({\n          url: `/uni_modules/uni-upgrade-center-app/pages/uni-app-x/upgrade-popup?local_storage_key=PACK_INFO`,\n          disableEscBack: true,\n          fail: (err) => {\n            console.error('更新弹框跳转失败', err)\n            uni.removeStorageSync('PACK_INFO')\n          }\n        })\n\n\n      },\n      checkUpdate() {\n\n        checkUpdate().then(res => {\n          console.log('res: ', res);\n        }).catch(e => {\n          console.log('e: ', e);\n        })\n        /* const key = 'ABC'\n        uni.setStorageSync(key, info)\n        uni.openDialogPage({\n          url: `/uni_modules/uni-upgrade-center-app/pages/uni-app-x/popup?local_storage_key=${key}`,\n          disableEscBack: true\n        }) */\n\n\n      },\n      scan() {\n        /* scanCode({\n          success: (res : ScanCodeSuccessCallbackResult) => {\n            this.result = res.result\n            console.log('res', res.scanType)\n          }\n        } as ScanCodeOption) */\n      }\n    }\n  }\n</script>\n\n<style>\n  .logo {\n    height: 100px;\n    width: 100px;\n    margin: 100px auto 25px auto;\n  }\n\n  .title {\n    font-size: 18px;\n    color: #8f8f94;\n    text-align: center;\n  }\n</style>",null,null],"names":[],"mappings":";;;;;;;;;;;;;+BAuEwB;+BAND;+BAfE;+BAalB;AAlCL,OAAS,6BAA8B,CAA9B;+BAuCa;+BAhBd;+BAUF;AAzBD;;eAUH,IAAO,GAAI,aAAa,EAAA;YACtB,IAAM,OAAO;YACb,QAAQ,GAAG,CAAC;YACZ,IAAI,CAAC,OAAM,GAAI,sBAAsB;YAErC,mCACE,QAAO;QAMX;;;;;;;;eA1DF,IAqBO,QAAA,IAAA,EAAA;YApBL,IAAmD,SAAA,IAA5C,WAAM,QAAO,SAAI;YACxB,IAEO,QAAA,IAFD,WAAM,cAAW;gBACrB,IAAoC,QAAA,IAA9B,WAAM,UAAO,IAAG,KAAA,KAAK,GAAA,CAAA;;YAE7B,IAAqC,UAAA,IAA5B,aAAO,KAAA,KAAK,GAAE,SAAK,CAAA,EAAA;gBAAA;aAAA;YAC5B,IAAyD,UAAA,IAAhD,aAAO,KAAA,eAAe,GAAE,mBAAe,CAAA,EAAA;gBAAA;aAAA;YAChD,IAEY,sBAAA,IAFD,SAAI,eAAY,6BACzB,gBAAkB,GAAA;uBAAA;oBAAlB,IAAkB,UAAA,IAAA,EAAV;;;;YAEV,IAAsD,QAAA,IAAhD,WAAyB,IAAzB,IAAA,aAAA,cAA0B,UAAK,IAAE,KAAA,MAAM,GAAA,CAAA;YAC7C,IAAkD,UAAA,IAA1C,UAAK,WAAW,aAAO,KAAA,IAAI,GAAE,QAAI,CAAA,EAAA;gBAAA;aAAA;YAAS,MAClD,IAAE,KAAA,UAAU,IAAE;YAGd,IAA0C,UAAA,IAAjC,aAAO,KAAA,WAAW,GAAE,QAAI,CAAA,EAAA;gBAAA;aAAA;YACjC,IAAmC,UAAA,IAA1B,aAAO,KAAA,IAAI,GAAE,QAAI,CAAA,EAAA;gBAAA;aAAA;YAI1B,IAAuD,UAAA,IAA9C,aAAO,KAAA,cAAc,GAAE,kBAAc,CAAA,EAAA;gBAAA;aAAA;;;aAmB1C;aACA;aACA;aACA;aACA;;;mBAJA,WAAO,SACP,UAAM,IACN,YAAQ,IACR,gBAAY,CAAC,EACb,aAAS,CAAC,CAAC;;aAiBb;aAAA,yBAAe;QACb,WAAW;IACb;aACA;aAAA,eAAK;QACH,WAAW,KAAI;YACb,MAAM,AAAI,SAAM,iBAAgB;QAClC;UAAG,IAAI;QACP,MAAM,AAAI,SAAM,MAAK;IACvB;aACA;aAAA,wBAAc;QACZ,QAAQ,GAAG,CAAC;IACd;aACA;aAAA,4BAAkB,CAIlB;aACA;aAAA,cAAI,CAMJ;aACA;aAAA,gBAAM;QAEJ,IAAM,8BACJ,MAAK,IACL,UAAS,IACT,OAAM,CAAC,EACP,kBAAiB,kBACF,KAAK,iBACJ,KAAK,UACZ,8BACD,2BACC,sBACG,iGACA;YACV;SACD,YACU,eACJ,0FACW,IAAI,SACd,2BACM,KAAE,iBACA,wBACF,gCACC,aAAY;QAG7B,mBAAmB,aAAa;QAChC,yCACE,MAAK,iGACL,iBAAgB,IAAI,EACpB,OAAM,IAAC,IAAM;YACX,QAAQ,KAAK,CAAC,YAAY;YAC1B,sBAAsB;QACxB;;IAIJ;aACA;aAAA,qBAAW;QAET,WAAc,IAAI,CAAC,IAAA,IAAK;YACtB,QAAQ,GAAG,CAAC,SAAS;QACvB;UAAG,OAAK,CAAC,IAAA,EAAG;YACV,QAAQ,GAAG,CAAC,OAAO;QACrB;;IASF;aACA;aAAA,cAAI,CAOJ;;;;;;;;;;;;;;;;;;;;AAEJ"}