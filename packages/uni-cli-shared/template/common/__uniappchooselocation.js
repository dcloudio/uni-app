!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=40)}([function(e,t){e.exports={}},function(e,t,a){"use strict";function n(e,t,a,n,o,i,r,s){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=a,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}a.d(t,"a",function(){return n})},function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.weexPlus=t.default=void 0,n="function"==typeof getUni?getUni:function(){var e=function(e){return"function"==typeof e},t=/^\$|^on|^create|Sync$|Manager$|^pause/,a=["os","getCurrentSubNVue","getSubNVueById","stopRecord","stopVoice","stopBackgroundAudio","stopPullDownRefresh","hideKeyboard","hideToast","hideLoading","showNavigationBarLoading","hideNavigationBarLoading","canIUse","navigateBack","closeSocket","pageScrollTo","drawCanvas"],n=function(e){return!(t.test(e)&&"createBLEConnection"!==e||~a.indexOf(e))},i=function(t){return function(){for(var a=arguments.length,n=Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(i.success)||e(i.fail)||e(i.complete)?t.apply(void 0,[i].concat(n)):new Promise(function(e,a){t.apply(void 0,[Object.assign({},i,{success:e,fail:a})].concat(n)),Promise.prototype.finally=function(e){var t=this.constructor;return this.then(function(a){return t.resolve(e()).then(function(){return a})},function(a){return t.resolve(e()).then(function(){throw a})})}}).then(function(e){return[null,e]}).catch(function(e){return[e]})}},r=[],s=void 0;function c(e){r.forEach(function(t){return t({origin:s,data:e})})}var l=o.webview.currentWebview().id,u=new BroadcastChannel("UNI-APP-SUBNVUE");function d(e){e.$processed=!0;var t=o.webview.currentWebview().id===e.id,a="uniNView"===e.__uniapp_origin_type&&e.__uniapp_origin_id,n=e.id;if(e.postMessage=function(e){a?u.postMessage({data:e,to:t?a:n}):b({type:"UniAppSubNVue",data:e})},e.onMessage=function(e){r.push(e)},e.__uniapp_mask_id){s=e.__uniapp_host;var i=e.__uniapp_mask,c=o.webview.getWebviewById(e.__uniapp_mask_id);c=c.parent()||c;var l=e.show,d=e.hide,f=e.close,p=function(){c.setStyle({mask:"none"})};e.show=function(){c.setStyle({mask:i});for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];return l.apply(e,a)},e.hide=function(){p();for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];return d.apply(e,a)},e.close=function(){p();for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];return f.apply(e,a)}}}function f(e){var t=o.webview.getWebviewById(e);return t&&!t.$processed&&d(t),t}u.onmessage=function(e){e.data.to===l&&c(e.data.data)};var p=weex.requireModule("plus"),h=weex.requireModule("globalEvent"),g=0,v={},y="__uniapp__service";h.addEventListener("plusMessage",function(e){"UniAppJsApi"===e.data.type?m(e.data.id,e.data.data):"UniAppSubNVue"===e.data.type?c(e.data.data,e.data.options):"onNavigationBarButtonTap"===e.data.type?"function"==typeof w&&w(e.data.data):"onNavigationBarSearchInputChanged"===e.data.type?"function"==typeof A&&A(e.data.data):"onNavigationBarSearchInputConfirmed"===e.data.type?"function"==typeof C&&C(e.data.data):"onNavigationBarSearchInputClicked"===e.data.type&&"function"==typeof x&&x(e.data.data)});var m=function(e,t){var a=v[e];a?(a(t),a.keepAlive||delete v[e]):console.error("callback["+e+"] is undefined")},S=function(t){var a,n,o=t.id,i=t.type,r=t.params;v[o]=(n=function(t){e(a)?a(t):a&&(~t.errMsg.indexOf(":ok")?e(a.success)&&a.success(t):~t.errMsg.indexOf(":fail")&&e(a.fail)&&a.fail(t),e(a.complete)&&a.complete(t))},(e(a=r)||a&&e(a.callback))&&(n.keepAlive=!0),n),p.postMessage({id:o,type:i,params:r},y)};function b(e){p.postMessage(e,y)}var _=function(e){return function(t){S({id:g++,type:e,params:t})}},w=void 0,A=void 0,C=void 0,x=void 0;function L(e){w=e}function P(e){A=e}function k(e){C=e}function j(e){x=e}function M(e){return weex.requireModule(e)}var T=weex.requireModule("dom"),O=weex.requireModule("globalEvent"),I=[];function N(e){"function"==typeof e&&(this.isUniAppReady?e():I.push(e))}O.addEventListener("plusMessage",function(e){"UniAppReady"===e.data.type&&(N.isUniAppReady=!0,I.length&&(I.forEach(function(e){return e()}),I=[]))});var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B=weex.requireModule("stream"),U="GET",D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/x-www-form-urlencoded";return"object"===(void 0===e?"undefined":E(e))?"POST"===t.toUpperCase()&&"application/json"===a.toLowerCase()?JSON.stringify(e):Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"):e},R=weex.requireModule("plusstorage"),V="__TYPE",q=weex.requireModule("clipboard"),F=function(){if("function"==typeof getUniEmitter)return getUniEmitter;var e={$on:function(){console.warn("uni.$on failed")},$off:function(){console.warn("uni.$off failed")},$once:function(){console.warn("uni.$once failed")},$emit:function(){console.warn("uni.$emit failed")}};return function(){return e}}();function J(e,t,a){return e[t].apply(e,a)}var X=Object.freeze({loadFontFace:function(t){var a=t.family,n=t.source,o=(t.desc,t.success),i=(t.fail,t.complete);T.addRule("fontFace",{fontFamily:a,src:n.replace(/"/g,"'")});var r={errMsg:"loadFontFace:ok",status:"loaded"};e(o)&&o(r),e(i)&&i(r)},ready:N,request:function(t){var a=t.url,n=t.data,o=t.header,i=t.method,r=void 0===i?"GET":i,s=t.dataType,c=void 0===s?"json":s,l=(t.responseType,t.success),u=t.fail,d=t.complete,f=!1,p=!1,h={};if(o)for(var g in o)p||"content-type"!==g.toLowerCase()?h[g]=o[g]:(p=!0,h["Content-Type"]=o[g]);return r===U&&n&&(a=a+(~a.indexOf("?")?"&"===a.substr(-1)||"?"===a.substr(-1)?"":"&":"?")+D(n)),B.fetch({url:a,method:r,headers:h,type:"json"===c?"json":"text",body:r!==U?D(n,r,h["Content-Type"]):""},function(t){var a=t.status,n=(t.ok,t.statusText,t.data),o=t.headers,i={};!a||-1===a||f?(i.errMsg="request:fail",e(u)&&u(i)):(i.data=n,i.statusCode=a,i.header=o,e(l)&&l(i)),e(d)&&d(i)}),{abort:function(){f=!0}}},getStorage:function(t){var a=t.key,n=(t.data,t.success),o=t.fail,i=t.complete;R.getItem(a+V,function(t){if("success"===t.result){var r=t.data;R.getItem(a,function(t){if("success"===t.result){var a=t.data;r&&a?("String"!==r&&(a=JSON.parse(a)),e(n)&&n({errMsg:"getStorage:ok",data:a})):(t.errMsg="setStorage:fail",e(o)&&o(t))}else t.errMsg="setStorage:fail",e(o)&&o(t);e(i)&&i(t)})}else t.errMsg="setStorage:fail",e(o)&&o(t),e(i)&&i(t)})},setStorage:function(t){var a=t.key,n=t.data,o=t.success,i=t.fail,r=t.complete,s="String";"object"===(void 0===n?"undefined":E(n))&&(s="Object",n=JSON.stringify(n)),R.setItem(a,n,function(t){"success"===t.result?R.setItem(a+V,s,function(t){"success"===t.result?e(o)&&o({errMsg:"setStorage:ok"}):(t.errMsg="setStorage:fail",e(i)&&i(t))}):(t.errMsg="setStorage:fail",e(i)&&i(t)),e(r)&&r(t)})},removeStorage:function(t){var a=t.key,n=(t.data,t.success),o=t.fail,i=t.complete;R.removeItem(a,function(t){"success"===t.result?e(n)&&n({errMsg:"removeStorage:ok"}):(t.errMsg="removeStorage:fail",e(o)&&o(t)),e(i)&&i(t)}),R.removeItem(a+V)},clearStorage:function(e){e.key,e.data,e.success,e.fail,e.complete},getClipboardData:function(t){var a=t.success,n=(t.fail,t.complete);q.getString(function(t){var o={errMsg:"getClipboardData:ok",data:t.data};e(a)&&a(o),e(n)&&n(o)})},setClipboardData:function(t){var a=t.data,n=t.success,o=(t.fail,t.complete),i={errMsg:"setClipboardData:ok"};q.setString(a),e(n)&&n(i),e(o)&&o(i)},onSubNVueMessage:c,getSubNVueById:f,getCurrentSubNVue:function(){return f(o.webview.currentWebview().id)},$on:function(){return J(F(),"$on",[].concat(Array.prototype.slice.call(arguments)))},$off:function(){return J(F(),"$off",[].concat(Array.prototype.slice.call(arguments)))},$once:function(){return J(F(),"$once",[].concat(Array.prototype.slice.call(arguments)))},$emit:function(){return J(F(),"$emit",[].concat(Array.prototype.slice.call(arguments)))}}),z={os:{nvue:!0}},W={};return"undefined"!=typeof Proxy?W=new Proxy({},{get:function(e,t){if("os"===t)return{nvue:!0};if("postMessage"===t)return b;if("requireNativePlugin"===t)return M;if("onNavigationBarButtonTap"===t)return L;if("onNavigationBarSearchInputChanged"===t)return P;if("onNavigationBarSearchInputConfirmed"===t)return k;if("onNavigationBarSearchInputClicked"===t)return j;var a=X[t];return a||(a=_(t)),n(t)?i(a):a}}):(Object.keys(z).forEach(function(e){W[e]=z[e]}),W.postMessage=b,W.requireNativePlugin=M,W.onNavigationBarButtonTap=L,W.onNavigationBarSearchInputChanged=P,W.onNavigationBarSearchInputConfirmed=k,W.onNavigationBarSearchInputClicked=j,Object.keys({uploadFile:!0,downloadFile:!0,chooseImage:!0,previewImage:!0,getImageInfo:!0,saveImageToPhotosAlbum:!0,chooseVideo:!0,saveVideoToPhotosAlbum:!0,saveFile:!0,getSavedFileList:!0,getSavedFileInfo:!0,removeSavedFile:!0,openDocument:!0,setStorage:!0,getStorage:!0,getStorageInfo:!0,removeStorage:!0,clearStorage:!0,getLocation:!0,chooseLocation:!0,openLocation:!0,getSystemInfo:!0,getNetworkType:!0,makePhoneCall:!0,scanCode:!0,setScreenBrightness:!0,getScreenBrightness:!0,setKeepScreenOn:!0,vibrateLong:!0,vibrateShort:!0,addPhoneContact:!0,showToast:!0,showLoading:!0,hideToast:!0,hideLoading:!0,showModal:!0,showActionSheet:!0,setNavigationBarTitle:!0,setNavigationBarColor:!0,navigateTo:!0,redirectTo:!0,reLaunch:!0,switchTab:!0,navigateBack:!0,getProvider:!0,login:!0,getUserInfo:!0,share:!0,requestPayment:!0,subscribePush:!0,unsubscribePush:!0,onPush:!0,offPush:!0}).forEach(function(e){var t=X[e];t||(t=_(e)),n(e)?W[e]=i(t):W[e]=t})),W};var o=new WeexPlus(weex);t.weexPlus=o;var i=n(weex,o,BroadcastChannel);t.default=i},function(e,t,a){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(a(4).default,Vue.prototype.__$appStyle__)},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);t.default=o.a},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={onLoad:function(){var t=this,a=e.webview.currentWebview().extras||{},n=a.from,o=(a.callback,a.runtime),i=a.data,r=void 0===i?{}:i;this.__from=n,this.__runtime=o,this.__page=e.webview.currentWebview().id,this.data=JSON.parse(JSON.stringify(r)),e.key.addEventListener("backbutton",function(){"function"==typeof t.onClose?t.onClose():(t.removeEventListener(),e.webview.currentWebview().close("auto"))});var s=this;this.channels=[];var c=new BroadcastChannel(this.__page);this.channels.push(c),c.onmessage=function(e){var t=e.data&&e.data.__message;t&&s.__onMessageCallback&&s.__onMessageCallback(t.data)}},methods:{postMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={__message:{__page:this.__page,data:t,keep:a}};if(a||this.removeEventListener(),"v8"===this.__runtime){var o=new BroadcastChannel(this.__from);this.channels.push(o),o.postMessage(n)}else{var i=e.webview.getWebviewById(this.__from);i&&i.evalJS("__plusMessage&&__plusMessage(".concat(JSON.stringify({data:n}),")"))}},onMessage:function(e){this.__onMessageCallback=e},removeEventListener:function(){this.channels.forEach(function(e){e.close()})}}};t.default=a}).call(this,a(2).weexPlus)},function(e,t,a){"use strict";var n=a(29),o=a(11),i=a(1);var r=Object(i.a)(o.default,n.a,n.b,!1,null,null,"0e2c6b23");(function(){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(a(35).default,this.options.style):Object.assign(this.options.style,a(35).default)}).call(r),t.default=r.exports},,,,,function(e,t,a){"use strict";var n=a(12),o=a.n(n);t.default=o.a},function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=(o=a(5))&&o.__esModule?o:{default:o};var r=weex.requireModule("mapSearch"),s={mixins:[i.default],data:function(){return{searchKeyword:"",showLocation:!0,latitude:39.908692,longitude:116.397477,nearList:[],nearSelectedIndex:-1,noNearData:!1,selectedIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAaVBMVEUAAAAAef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef8Aef84EEEWAAAAInRSTlMA+QQY6izG8NO6TphC3JReWSMoDLOfgXajf29lZEs7Hcep1l5DEAAAAPxJREFUOMuFU9cSgyAQBDSUgCVgSS/8/0cGc8E5FQdeOGaXud0rBB9mzdFYRtKnGDkVkktB+VgkYE27poCw6aheUxpxPqHn6SyaRe66NKsfpqyRll6+Njlfsp/jS1WkRFeXf/QUh6Stg3iCAHndMX6VPxltlaiMNdPXqp1iftviR+qHcN34ZJm6FO4/4XY0FOeuknhpp0jdCamHJA7GhjqQ2n2ctCpofPw8K+22OHm8I+HjvXIYj4SYYvSBwTAeU0SROjA6hnEQCTYjg2McbEKhZgbGoVC41HqJQ6lxs1iP8blZuN3WrdudG5jcyGWHNj/2+cXJr15+ebPr/wWbNBG/n/A0GgAAAABJRU5ErkJggg==",markers:[{id:"location",latitude:39.908692,longitude:116.397477,zIndex:"1",iconPath:"data:image/png;base64,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",width:26,height:36}],searchList:[],showSearch:!1,noSearchData:!1}},onLoad:function(){var t=this,a=this.data;this.searchKeyword=a.keyword||"",this._searchInputTimer=null,this.onMessage(function(a){if(t.nearSelectedIndex<0)e.nativeUI.alert("您尚未选择位置!");else{var n=t.nearList[t.nearSelectedIndex],o={name:n.name,address:n.address,latitude:n.location.latitude,longitude:n.location.longitude};t.postMessage({event:"selected",detail:o})}}),this._hasUserLocation=!1},onReady:function(){this.mapContext=this.$refs.map1,this.getUserLocation()},onUnload:function(){this.clearSearchTimer()},methods:{getUserLocation:function(){var t=this;e.geolocation.getCurrentPosition(function(e){var a=e.coordsType,n=e.coords;"wgs84"===a.toLowerCase()?t.wgs84togcjo2(n,function(e){t.getUserLocationSuccess(e)}):t.getUserLocationSuccess(n)},function(e){t._hasUserLocation=!0,console.log(n("Gelocation Error: code - "+e.code+"; message - "+e.message," at template/__uniappchooselocation.nvue:140"))},{geocode:!1})},getUserLocationSuccess:function(e){this._hasUserLocation=!0,this.moveToCenter({latitude:e.latitude,longitude:e.longitude})},searchclick:function(t){this.showSearch=t,!1===t&&e.key.hideSoftKeybord()},showSearchView:function(){this.searchList=[],this.showSearch=!0},hideSearchView:function(){this.showSearch=!1,e.key.hideSoftKeybord(),this.noSearchData=!1},onregionchange:function(e){var t=this,a=e.detail,n=a.type||e.type;"drag"===(a.causedBy||e.causedBy)&&"end"===n&&this.mapContext.getCenterLocation(function(e){t.moveToCenter({latitude:e.latitude,longitude:e.longitude})})},onItemClick:function(e,t){t.stopPropagation(),this.nearSelectedIndex!==e&&(this.nearSelectedIndex=e),this.updateMarker(this.nearList[e].location)},moveToCenter:function(e){this.latitude===e.latitude&&this.longitude===e.longitude||(this.latitude=e.latitude,this.longitude=e.longitude,this.updateCenter(e))},updateCenter:function(e){this.nearSelectedIndex=-1,this.nearList=[],this.updateMarker(e),this._hasUserLocation&&(this.reverseGeocode(e),this.searchNearByPoint(e))},searchNearByPoint:function(e){var t=this;this.noNearData=!1,r.poiSearchNearBy({point:{latitude:e.latitude,longitude:e.longitude},key:this.searchKeyword,radius:1e3},function(e){e.poiList&&e.poiList.length?(t.replaceEscape(e.poiList),t.nearList=t.nearList.concat(e.poiList)):(t.nearList=[],t.noNearData=!0)})},updateMarker:function(e){this.mapContext.translateMarker({markerId:"location",destination:{latitude:e.latitude,longitude:e.longitude},duration:0},function(e){})},reverseGeocode:function(e){var t=this;r.reverseGeocode({point:e},function(a){"success"===a.type&&t.nearList.splice(0,0,{code:a.code,location:e,name:"地图位置",address:a.address||""})})},onsearchinput:function(e){var t=this,a=e.detail.value.replace(/^\s+|\s+$/g,"");this.clearSearchTimer(),this._searchInputTimer=setTimeout(function(){clearTimeout(t._searchInputTimer),t.search(a)},300)},clearSearchTimer:function(){this._searchInputTimer&&clearTimeout(this._searchInputTimer)},search:function(e){var t=this;this.noSearchData=!1,r.poiSearchNearBy({point:{latitude:this.latitude,longitude:this.longitude},key:e,radius:5e3},function(e){e.poiList&&e.poiList.length?(t.replaceEscape(e.poiList),t.searchList=e.poiList):(t.searchList=[],t.noSearchData=!0)})},onSearchItemClick:function(e){this.nearSelectedIndex=-1,this.hideSearchView(),this.moveToCenter(e.location)},replaceEscape:function(e){for(var t=0;t<e.length;t++){var a=e[t];a.name=a.name.replace(/\\/g,""),a.address=a.address.replace(/\\/g,"")}},wgs84togcjo2:function(e,t){var a=weex.requireModule("stream"),n="https://apis.map.qq.com/jsapi?qt=translate&type=1&points=".concat(e.longitude,",").concat(e.latitude,"&key=MAP_KEY&output=json&pf=jsapi&ref=jsapi");a.fetch({method:"GET",url:n,type:"json"},function(e){if(e.ok){var a=e.data.detail.points[0];t({latitude:a.lat,longitude:a.lng})}})}}};t.default=s}).call(this,a(2).weexPlus,a(28).default)},function(e,t){e.exports={page:{flex:1,position:"relative"},"flex-r":{flexDirection:"row",flexWrap:"nowrap"},"flex-c":{flexDirection:"column",flexWrap:"nowrap"},"flex-fill":{flex:1},"a-i-c":{alignItems:"center"},"j-c-c":{justifyContent:"center"},"search-bar":{paddingTop:"10",paddingRight:"15",paddingBottom:"10",paddingLeft:"15",backgroundColor:"#ffffff",borderBottomStyle:"solid",borderBottomWidth:"1",borderBottomColor:"#D3D3D3"},"search-area":{backgroundColor:"#ebebeb",borderRadius:"5",height:"28"},"search-text":{fontSize:"14",color:"#b4b4b4",paddingTop:"4",paddingRight:"4",paddingBottom:"4",paddingLeft:"4"},"no-data":{color:"#808080"},"no-data-search":{marginTop:"50"},map:{width:"750rpx",height:"220"},"list-view":{borderTopStyle:"solid",borderTopWidth:"1",borderTopColor:"#D3D3D3"},"list-item":{position:"relative",paddingTop:"12",paddingRight:"15",paddingBottom:"12",paddingLeft:"15"},"list-line":{position:"absolute",left:"15",right:0,bottom:0,height:"1",backgroundColor:"#d3d3d3"},"list-name":{fontSize:"14",lines:1,textOverflow:"ellipsis"},"list-address":{fontSize:"12",color:"#808080",lines:1,textOverflow:"ellipsis",marginTop:"5"},"list-icon-area":{paddingLeft:"10",paddingRight:"10"},"list-selected-icon":{width:"20",height:"20"},"search-view":{position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"#f6f6f6"},"search-input":{fontSize:"14",height:"28",paddingLeft:"6"},"search-cancel":{color:"#0079FF",marginLeft:"10"}}},,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t.map(function(e){var t=Object.prototype.toString.call(e);if("[object object]"===t.toLowerCase())try{e="---BEGIN:JSON---"+JSON.stringify(e)+"---END:JSON---"}catch(t){e="[object object]"}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var a=function(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}(e).toUpperCase();e="NUMBER"===a||"BOOLEAN"===a?"---BEGIN:"+a+"---"+e+"---END:"+a+"---":String(e)}return e}),o="";if(n.length>1){var i=n.pop();o=n.join("---COMMA---"),0===i.indexOf(" at ")?o+=i:o+="---COMMA---"+i}else o=n[0];return o}},function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("scroll-view",{staticStyle:{flexDirection:"column"},attrs:{scrollY:!0,enableBackToTop:!0,bubble:"true"}},[a("view",{staticClass:["page","flex-c"]},[a("view",{staticClass:["search-bar"]},[a("view",{staticClass:["search-area","flex-r","a-i-c","j-c-c"],on:{click:e.showSearchView}},[a("u-text",{staticClass:["search-text"]},[e._v("搜索地点")])])]),a("map",{ref:"map1",staticClass:["map"],attrs:{showLocation:e.showLocation,longitude:e.longitude,latitude:e.latitude,markers:e.markers},on:{regionchange:e.onregionchange}}),e.noNearData?e._e():a("list",{staticClass:["flex-fill","list-view"]},e._l(e.nearList,function(t,n){return a("cell",{key:t.uid,appendAsTree:!0,attrs:{append:"tree"}},[a("view",{staticClass:["list-item"],on:{click:function(t){e.onItemClick(n,t)}}},[a("view",{staticClass:["flex-r"]},[a("view",{staticClass:["list-text-area","flex-fill","flex-c"]},[a("u-text",{staticClass:["list-name"]},[e._v(e._s(t.name))]),a("u-text",{staticClass:["list-address"]},[e._v(e._s(t.address))])]),n===e.nearSelectedIndex?a("view",{staticClass:["list-icon-area","flex-r","a-i-c","j-c-c"]},[a("u-image",{staticClass:["list-selected-icon"],attrs:{src:e.selectedIcon}})],1):e._e()]),a("view",{staticClass:["list-line"]})])])}),0),e.noNearData?a("view",{staticClass:["flex-fill","flex-r","a-i-c","j-c-c"]},[a("u-text",{staticClass:["no-data"]},[e._v("对不起，没有搜索到相关数据！")])]):e._e(),e.showSearch?a("view",{staticClass:["search-view","flex-c"]},[a("view",{staticClass:["search-bar","flex-r","a-i-c"]},[a("view",{staticClass:["search-area","flex-fill","flex-r"]},[a("u-input",{staticClass:["search-input","flex-fill"],attrs:{focus:!0,placeholder:"搜索地点"},on:{input:e.onsearchinput}})],1),a("u-text",{staticClass:["search-cancel"],on:{click:e.hideSearchView}},[e._v("取消")])]),e.noSearchData?e._e():a("list",{staticClass:["flex-fill","list-view"]},e._l(e.searchList,function(t,n){return a("cell",{key:t.uid,appendAsTree:!0,attrs:{append:"tree"}},[a("view",{staticClass:["list-item"],on:{click:function(a){e.onSearchItemClick(t)}}},[a("view",{staticClass:["flex-r"]},[a("view",{staticClass:["list-text-area","flex-fill","flex-c"]},[a("u-text",{staticClass:["list-name"]},[e._v(e._s(t.name))]),a("u-text",{staticClass:["list-address"]},[e._v(e._s(t.address))])])]),a("view",{staticClass:["list-line"]})])])}),0),e.noSearchData?a("view",{staticClass:["flex-fill","flex-r","j-c-c"]},[a("u-text",{staticClass:["no-data","no-data-search"]},[e._v("对不起，没有搜索到相关数据！")])]):e._e()]):e._e()],1)])},o=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(13),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);t.default=o.a},,,,,function(e,t,a){"use strict";a.r(t);a(3);var n=a(6);n.default.mpType="page",n.default.route="template/__uniappchooselocation",n.default.el="#root",new Vue(n.default)}]);