"use strict";/**
* @vue/compiler-vapor-dom2 v3.6.0-alpha.5
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/Object.defineProperty(exports,"__esModule",{value:!0});var T=require("@vue/compiler-dom"),d=require("@vue/compiler-vapor"),N=require("@vue/shared"),Se=require("@babel/parser"),_t=require("estree-walker"),bn=require("os"),wn=require("tinycolor2"),ve=require("source-map-js");function So(t,e){}function vo(t,e){}function Pn(t,e=[]){const n=t.ast||t._fastPathAst;if(n)return Ie(n);if(t.isStatic)return!0;if(t.ast===null)try{return t._fastPathAst=Se.parseExpression(t.content,{plugins:e}),Ie(t._fastPathAst)}catch{}return!1}function Ie(t){switch(t=T.unwrapTSNode(t),t.type){case"UnaryExpression":return t.operator==="void"?!1:Ie(t.argument);case"ParenthesizedExpression":return Ie(t.expression);case"StringLiteral":case"NumericLiteral":case"BooleanLiteral":case"NullLiteral":case"BigIntLiteral":return!0}return!1}function be(t){try{return!!new Function(`return ${t.content}`)()}catch{}return null}function xt(t){try{const e=new Function(`return ${t.content}`)();return typeof e=="string"?e:null}catch{}return null}function An(t,e){R(t.key,e),t.values.length>1&&["class","style","hover-class"].includes(t.key.content)?t.sharedData={ident:e.nextIdent()}:Ct(t.values,e)}function Ct(t,e,n=!1,r=!1){t.forEach(a=>{R(a,e,n,r)})}function R(t,e,n=!1,r=!1){(n||!Pn(t))&&(t.sharedData={ident:e.nextIdent()})}function kn(t,e){var n,r;t.value&&(r=(n=e.options).isCppExpr)!=null&&r.call(n,t.value.ast)||(t.delegate=!1,R(t.key,e),t.sharedData={ident:e.nextIdent()})}function Vn(t,e){R(t.event,e,!0)}function On(t,e){if(It(t))return;R(t.source,e,!0);const n=e.enterIdent();t.keyProp&&R(t.keyProp,e,!0),t.typeProp&&R(t.typeProp,e,!0),Ke(t.render,e),n()}function It(t,e=new Set){if(!t.once||t.component||!t.source.ast)return!1;const n=t.source.ast.type;if(n!=="NumericLiteral"&&n!=="StringLiteral")return!1;const{value:r,key:a,index:s,render:o}=t;return r&&e.add(r.content),a&&e.add(a.content),s&&e.add(s.content),!!Mn(o,e)}function Mn(t,e){for(const n of t.operation)if(!Je(n,e))return!1;for(const n of t.effect)for(const r of n.operations)if(!Je(r,e))return!1;return!(t.dynamic&&!bt(t.dynamic,e))}function bt(t,e){if(t.operation&&!Je(t.operation,e))return!1;for(const n of t.children)if(!bt(n,e))return!1;return!0}function Je(t,e){switch(t.type){case 2:case 3:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 18:case 19:return!1;case 17:return!0;case 4:return!!Rn(t.values,e);case 16:return It(t,e);default:const n=t;throw new Error(`Unhandled operation type in genOperation: ${n}`)}}function Rn(t,e){const{seenIdentifier:n}=d.analyzeExpressions(t);return Array.from(n).every(r=>e.has(r))}function Ln(t,e){R(t.value,e)}function wt(t,e){const{condition:n,positive:r,negative:a}=t;be(n)===null&&R(n,e,!0),ce(r,e),a&&(a.type===1?ce(a,e):wt(a,e))}function Fn(t,e){An(t.prop,e)}function Wn(t,e){t.sharedData={ident:e.nextIdent()}}function Un({node:t,value:e},n){var r,a;if(t.tagType===0){if((a=(r=n.options).isCppExpr)!=null&&a.call(r,e.ast))return;n.ir.hasTemplateRef=!0,R(e,n,!0)}else n.ir.hasTemplateRef=!0}function No(t,e){}function jn(t,e){Ct(t.values,e,!1,!0)}function To(t,e){}function Jn(t,e){t.sharedData={ident:e.nextIdent()},t.slots.forEach(n=>{switch(n.slotType){case 0:Object.keys(n.slots).forEach(a=>{ce(n.slots[a],e)});break;case 1:xt(n.name)||(n.name.sharedData={ident:e.nextIdent()}),ce(n.fn,e);break;case 2:R(n.loop.source,e,!0);const r=e.enterIdent();xt(n.name)||(n.name.sharedData={ident:e.nextIdent()}),ce(n.fn,e),r();break;case 3:Pt(n,e);break}})}function Pt(t,e){be(t.condition)===null&&R(t.condition,e,!0),R(t.positive.name,e),ce(t.positive.fn,e),t.negative&&(t.negative.slotType===3?Pt(t.negative,e):(R(t.negative.name,e),ce(t.negative.fn,e)))}function Bn(t,e){const{fallback:n,name:r}=t;R(r,e),n&&ce(n,e)}function Kn({dir:{exp:t}},e){t&&R(t,e)}function Gn({dir:t},e){const n=t.exp;R(n,e,!0),n.sharedData.vModel={eventIdent:e.nextIdent()}}function Hn(t,e){switch(t.name){case"show":return Kn(t,e);case"model":return Gn(t,e)}}function At(t,e){for(const n of t)kt(n,e)}function kt(t,e){Yn(t,e)}function Yn(t,e){switch(t.type){case 2:return Fn(t,e);case 3:return Wn(t,e);case 4:return jn(t,e);case 5:return kn(t,e);case 6:return Vn(t,e);case 7:return Ln(t,e);case 8:return Un(t,e);case 9:return void 0;case 10:return void 0;case 15:return wt(t,e);case 16:return On(t,e);case 11:return Jn(t,e);case 14:return void 0;case 12:return Bn(t,e);case 13:return Hn(t,e);case 17:return void 0;case 18:return;case 19:return;default:const n=t;throw new Error(`Unhandled operation type in genOperation: ${n}`)}}function zn(t,e){for(const r of t)Xn(r,e);for(const{operations:r}of t)for(const a of r)if(a.type===19){const s=n(a.prop.key.content.slice(7));s&&(a.prop.values[0].sharedData=s.prop.values[0].sharedData)}function n(r){for(const a of t)for(const s of a.operations)if(s.type===2&&s.prop.key.content===r)return s}}function Xn({operations:t},e){At(t,e)}function Be(t,e){const{operation:n}=t;n&&kt(n,e)}function Vt(t,e){const{children:n}=t;let r=0;const a=[];for(const[,s]of n.entries()){s.flags&2&&r--;const o=s.flags&1?s.flags&4?s.anchor:s.id:void 0;if(o===void 0&&!s.hasDynamicChild){Be(s,e);continue}o===s.anchor&&Be(s,e),a.push(s)}for(const s of a)Vt(s,e)}function ce(t,e){Ke(t,e)}function Ke(t,e){const{dynamic:n,effect:r,operation:a}=t,s=e.enterBlock(t);for(const o of n.children)Be(o,e);for(const o of n.children)Vt(o,e);At(a,e),zn(r,e),s()}class we{constructor(e=1e3,n=30){if(this._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this._nextIds=[0],this._generated=[],this._currentIndex=0,e<0)throw new Error("\u9884\u751F\u6210\u6570\u91CF\u4E0D\u80FD\u4E3A\u8D1F\u6570");this._groupSize=n,e>0&&this._pregenerate(e)}_generateId(){const e=[];for(const n of this._nextIds)e.unshift(this._chars[n]);return e.join("")}_generateNextValidId(){let e;do e=this._generateId(),this._increment();while(qn.has(e));return e}_pregenerate(e){this._generated=new Array(e);for(let n=0;n<e;n++)this._generated[n]=this._generateNextValidId()}next(){if(this._currentIndex<this._generated.length)return this._generated[this._currentIndex++];const e=this._generateNextValidId();return this._generated.push(e),this._currentIndex++,e}getIndexOf(e){return this._generated.indexOf(e)}getGroupInfo(e){const n=this.getIndexOf(e);return n===-1?null:{index:Math.floor(n/this._groupSize),bitValue:1<<n%this._groupSize}}reset(){this._nextIds=[0],this._generated=[],this._currentIndex=0}get generatedCount(){return this._generated.length}get currentIndex(){return this._currentIndex}get hasPregenerated(){return this._currentIndex<this._generated.length}get generatedList(){return this._generated}_increment(){for(let e=0;e<this._nextIds.length;e++)if(++this._nextIds[e]>=this._chars.length)this._nextIds[e]=0;else return;this._nextIds.push(0)}*[Symbol.iterator](){for(;;)yield this.next()}}const qn=new Set(["abstract","arguments","await","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield"]);class Zn{constructor(e,n){this.isInVFor=!1,this._ident=new we,this._identCache=new Map,this.ir=e,this.options=n,this.block=e.block,this._identCache.set(this._ident,new Map)}enterBlock(e){const n=this.block;this.block=e;const r=e.node;let a=()=>{};return this.isInVFor||(this.isInVFor=r.type===1&&r.tagType===3&&r.props.some(s=>s.type===7&&s.name==="for"),a=()=>this.isInVFor=!1),()=>(a(),this.block=n)}enterIdent(){const e=this._ident;return this._ident=new we,this._identCache.set(this._ident,new Map),()=>this._ident=e}nextIdent(){return this._ident.next()}}function Qn(t,e){const n=new Zn(t,e);Ke(t.block,n)}const er={ELEMENT:"element",NATIVE_VIEW:"nativeView"},Ot={APP_ANDROID:"app-android",APP_HARMONY:"app-harmony",APP_IOS:"app-ios"};function ue(t,e){switch(t){case"app-harmony":return e==="element"?"dom-c":"nv-c";case"app-android":return e==="element"?"dom-kt":"nv-kt";case"app-ios":return e==="element"?"dom-c":"nv-c"}}function Mt(t){return t==="dom-c"||t==="nv-c"||t==="txt-c"}function tr(t){return t==="dom-c"||t==="dom-kt"||t==="dom-oc"||t==="dom-ts"}const nr={TS:"ts",CPP:"cpp",KOTLIN:"kotlin",SWIFT:"swift"},rr={APP:"app",PAGE:"page",COMPONENT:"component"};class Rt{constructor(){this.vForCount=0,this.vForStack=[],this.vForDepth=0}enterVFor(){const e=this.vForCount++;return this.vForStack.push(e),e}exitVFor(){this.vForStack.pop()}enterBlock(e){const n=this.block;this.block=e;const r=this.block.node,a=r.type===1&&r.tagType===3&&r.props.some(s=>s.type===7&&s.name==="for");return a&&this.vForDepth++,()=>(a&&this.vForDepth--,this.block=n)}get sharedDataVar(){return this.vForDepth>0?this.sharedDataVForVar:"__sharedData"}get sharedDataVForVar(){return`__sharedData_VFor${this.vForStack[this.vForStack.length-1]}`}get sharedDataVForItemVar(){return`__vForItem${this.vForStack[this.vForStack.length-1]}`}}function ar({parent:t,elements:e,anchor:n},{helper:r}){let a=e.map(s=>`n${s}`).join(", ");return e.length>1&&(a=`[${a}]`),[d.NEWLINE,...d.genCall(r("insert"),a,`n${t}`,n===void 0?void 0:`n${n}`)]}function sr(t,{helper:e}){return[d.NEWLINE,...d.genCall(e("prepend"),`n${t.parent}`,...t.elements.map(n=>`n${n}`))]}function D(t,e,n){const{content:r,ast:a,isStatic:s,loc:o}=t;if(s)return[[JSON.stringify(r),-2,o]];if(!t.content.trim()||a===!1||d.isConstantExpression(t))return[[r,-2,o],n&&` = ${n}`];if(a===null)return Lt(r,e,o,n);const i=[],l=new Map,u=[];T.walkIdentifiers(a,p=>{i.push(p),l.set(p,u.slice())},!1,u);let c=!1;if(i.length){const[p,f]=d.buildCodeFragment();return i.sort((h,m)=>h.start-m.start).forEach((h,m)=>{const E=h.start-1,v=h.end-1,$=i[m-1],S=r.slice($?$.end-1:0,E);S.length&&f([S,-3]);const C=r.slice(E,v),P=l.get(h),k=P[P.length-1];c||(c=k&&(k.type==="MemberExpression"||k.type==="OptionalMemberExpression")),f(...Lt(C,e,{start:T.advancePositionWithClone(t.loc.start,C,E),end:T.advancePositionWithClone(t.loc.start,C,v),source:C},c?void 0:n,h,k,P)),m===i.length-1&&v<r.length&&f([r.slice(v),-3])}),n&&c&&f(` = ${n}`),p}else return[[r,-3,o]]}function Lt(t,e,n,r,a,s,o){const{options:i,helper:l,identifiers:u}=e,{inline:c,bindingMetadata:p}=i;let f=t;const h=u[t];if(h&&h.length){const S=h[0];return N.isString(S)?s&&s.type==="ObjectProperty"&&s.shorthand?[[`${f}: ${S}`,-2,n]]:[[S,-2,n]]:D(S,e,r)}let m;T.isStaticProperty(s)&&s.shorthand&&(m=`${t}: `);const E=p&&p[t];if(c)switch(E){case"setup-let":f=t=r?`_isRef(${t}) ? (${t}.value = ${r}) : (${t} = ${r})`:$();break;case"setup-ref":f=t=v(`${t}.value`);break;case"setup-maybe-ref":const S=s&&T.isInDestructureAssignment(s,o||[]),C=s&&s.type==="AssignmentExpression"&&s.left===a,P=s&&s.type==="UpdateExpression"&&s.argument===a;t=C||P||S?f=`${t}.value`:r?`${l("isRef")}(${t}) ? (${t}.value = ${r}) : null`:$();break;case"props":t=N.genPropsAccessExp(t);break;case"props-aliased":t=N.genPropsAccessExp(p.__propsAliases[t]);break;default:t=v(t)}else or(t)&&(E==="props-aliased"?t=`$props['${p.__propsAliases[t]}']`:t=`${E==="props"?"$props":"_ctx"}.${t}`),t=v(t);return[m,[t,-2,n,f]];function v(S){return r?`${S} = ${r}`:S}function $(){return`${l("unref")}(${t})`}}function or(t){return!(N.isGloballyAllowed(t)||t==="require"||t==="$props"||t==="$emit"||t==="$attrs"||t==="$slots")}function ir(t,e,n){const{seenVariable:r,variableToExpMap:a,expToVariableMap:s,seenIdentifier:o,updatedVariable:i}=d.analyzeExpressions(e),l=lr(t,r,a,s,o,i),u=ur(t,e,l,i,s);return pr([...l,...u],t,n)}function lr(t,e,n,r,a,s){const o=[],i=new Map;for(const[l,u]of n)if(!s.has(l)&&e[l]>1&&u.size>0){const c=a.has(l),p=c?l:Ge(l);u.forEach(f=>{if(f.ast&&p!==l){const h=i.get(f)||[];h.push({name:p,locs:r.get(f).reduce((m,E)=>(E.name===l&&E.loc&&m.push(E.loc),m),[])}),i.set(f,h)}}),!o.some(f=>f.name===p)&&(!c||cr(l,r,u))&&o.push({name:p,isIdentifier:c,value:N.extend({ast:c?null:Pe(t,l)},T.createSimpleExpression(l)),rawName:l,exps:u,seenCount:e[l]})}for(const[l,u]of i)u.flatMap(({name:c,locs:p})=>p.map(({start:f,end:h})=>({start:f,end:h,name:c}))).sort((c,p)=>p.end-c.end).forEach(({start:c,end:p,name:f})=>{l.content=l.content.slice(0,c-1)+f+l.content.slice(p-1)}),l.ast=Pe(t,l.content,l.loc);return o}function cr(t,e,n){const r=Array.from(n,s=>e.get(s).map(o=>o.name));if(r.every(s=>s.length===1)||r.some(s=>s.filter(o=>o===t).length>1))return!0;const a=r[0];return r.some(s=>s.length!==a.length)?!(r.some(s=>s.length>a.length&&s.every(o=>a.includes(o)))||r.some(s=>a.length>s.length&&a.every(o=>s.includes(o)))):!r.every(s=>s.every((o,i)=>o===a[i]))}function ur(t,e,n,r,a){const s=[],o=e.reduce((i,l)=>{const u=a.get(l);if(!u)return i;const c=u.map(p=>p.name);return l.ast&&l.ast.type!=="Identifier"&&!(c&&c.some(p=>r.has(p)))&&(i[l.content]=(i[l.content]||0)+1),i},Object.create(null));return Object.entries(o).forEach(([i,l])=>{if(l>1){const u=Ge(i);if(!s.some(c=>c.name===u)){const c={};for(let f=n.length-1;f>=0;f--){const h=n[f];!h.exps||!h.seenCount||[...h.exps].every(m=>m.content===i&&h.seenCount===l)&&(c[h.name]=h.rawName,n.splice(f,1))}const p=N.extend({},e.find(f=>f.content===i));Object.keys(c).forEach(f=>{p.content=p.content.replace(f,c[f]),p.ast&&(p.ast=Pe(t,p.content,p.loc))}),s.push({name:u,value:p})}e.forEach(c=>{c.content===i?(c.content=u,c.ast=null):c.content.includes(i)&&(c.content=c.content.replace(new RegExp(dr(i),"g"),u),c.ast=Pe(t,c.content,c.loc))})}}),s}function pr(t,e,n){const[r,a]=d.buildCodeFragment(),s=Object.create(null),o=new Set;return t.forEach(({name:i,isIdentifier:l,value:u})=>{if(l){const c=s[i]=`_${i}`;o.add(c),n&&a("const "),a(`${c} = `,...D(u,e),d.NEWLINE)}}),t.forEach(({name:i,isIdentifier:l,value:u})=>{if(!l){const c=s[i]=`_${i}`;o.add(c),n&&a("const "),a(`${c} = `,...e.withId(()=>D(u,e),s),d.NEWLINE)}}),{ids:s,frag:r,varNames:[...o]}}function dr(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Pe(t,e,n){const r=t.options.expressionPlugins,a={plugins:r?[...r,"typescript"]:["typescript"]};try{return Se.parseExpression(`(${e})`,a)}catch(s){if(n){const o=new SyntaxError(s.message);throw o.loc=n,t.options.onError(o),o}throw s}}function Ge(t){return`${t.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").replace(/_+$/,"")}`}function Ft(t,e,n,r){return t.sharedData?d.genCall(e.helper("setSharedData"),e.sharedDataVar,JSON.stringify(t.sharedData.ident),n?d.genCall(n,D(t,e)):D(t,e)):D(t,e)}function fr(t,e){var n,r;const{key:a,keyOverride:s,value:o,modifiers:i,sharedData:l}=t;if(o&&(r=(n=e.options).isCppExpr)!=null&&r.call(n,o.ast))return[];const u=He(e,o,i);return[d.NEWLINE,...a.sharedData?d.genCall(e.helper("setSharedData"),e.sharedDataVar,JSON.stringify(a.sharedData.ident),c()).concat(d.NEWLINE):[],...d.genCall(e.helper("setSharedDataEvent"),e.sharedDataVar,JSON.stringify(l.ident),u)];function c(){const p=D(a,e);if(s){const f=JSON.stringify(s[0]),h=JSON.stringify(s[1]),m=["(",...p,")"];return[...m,` === ${f} ? ${h} : `,...m]}else return D(a,e)}}function hr(t,e){return[d.NEWLINE,...d.genCall(e.helper("setSharedDataDynamicEvents"),e.sharedDataVar,JSON.stringify(t.event.sharedData.ident),D(t.event,e))]}function He(t,e,n={nonKeys:[],keys:[]},r=!1){let a=["() => {}"];if(e&&e.content.trim())if(T.isMemberExpression(e,t.options)){if(a=D(e,t),!mr(e,t)&&!r){const s=e.ast&&T.TS_NODE_TYPES.includes(e.ast.type);a=["(e: any) => ",s?"(":"",...a,s?")":"","(e)"]}}else if(T.isFnExpression(e,t.options))a=D(e,t);else{const s=e.content.includes("$event"),o=e.content.includes(";"),i=s?t.withId(()=>D(e,t),{$event:null}):D(e,t);a=[s?"($event: any) => ":"() => ",o?"{":"(",...i,o?"}":")"]}return r&&a.unshift("() => "),a}function mr(t,e){if(t.ast===null&&e.options.bindingMetadata[t.content]==="setup-const")return!0}const gr=bn.platform()==="win32";function yr(t){return gr?t.replace(/\\/g,"/"):t}function Wt(t){if(!(t.type===1&&t.tag==="template"))return!1;const e=t;return e.children.length===1&&e.children[0].type===1&&(e.children[0].tag==="list-item"||e.children[0].tag==="ListItem")}function Er(t,e){const{helper:n}=e,{source:r,value:a,key:s,index:o,render:i,keyProp:l,typeProp:u,once:c,id:p,component:f,onlyChild:h}=t;if(!r.sharedData)return[];const m=Wt(t.node),E=e.sharedDataVar;let v=null;const $=s&&s.content,S=o&&o.content,C=["() => (",...D(r,e),")"],P=K(),k=e.enterVFor(),[Z,de]=e.enterScope(),A={},Q=`_for_item${k}`;A[Q]=null,P.forEach((y,x)=>{let _=`${Q}.value${y?y.path:""}`;if(y)if(y.helper&&(A[y.helper]=null,_=`${y.helper}(${_}, ${y.helperArgs})`),y.dynamic){const O=A[x]=T.createSimpleExpression(_),Y=e.options.expressionPlugins;O.ast=Se.parseExpression(`(${_})`,{plugins:Y?[...Y,"typescript"]:["typescript"]})}else A[x]=_;else A[x]=_});const F=[e.sharedDataVForVar,", ",Q];if($){const y=`_for_key${k}`;F.push(`, ${y}`),A[$]=`${y}.value`,A[y]=null}if(S){const y=`_for_index${k}`;F.push(`, ${y}`),A[S]=`${y}.value`,A[y]=null}const W=d.genCall(n("setSharedData"),E,JSON.stringify(r.sharedData.ident),jt(e,k)),ee=le(l,e,e.sharedDataVForVar),B=xe(l,e),q=m&&u?le(u,e,e.sharedDataVForVar):Ee(e.sharedDataVForVar),{selectorPatterns:M,keyOnlyBindingPatterns:fe}=Ut(i,l,A),ie=[],G=[];for(let y=0;y<M.length;y++){const{selector:x}=M[y],_=`_selector${p}_${y}`;ie.push(`let ${_}: (oper: () => void) => void`,d.NEWLINE),y===0&&G.push("({ createSelector }) => {",d.INDENT_START),G.push(d.NEWLINE,`${_} = `,...d.genCall("createSelector",["() => ",...D(x,e)])),y===M.length-1&&G.push(d.INDENT_END,d.NEWLINE,"}")}const he=e.withId(()=>{const y=[];return y.push("(",...F,") => {",d.INDENT_START),M.length||fe.length?y.push(...Ve(i,e,!1,()=>{const x=[];for(let _=0;_<M.length;_++){const{effect:O}=M[_];x.push(d.NEWLINE,`_selector${p}_${_}(() => {`,d.INDENT_START);for(const Y of O.operations)x.push(...et(Y,e));x.push(d.INDENT_END,d.NEWLINE,"})")}for(const{effect:_}of fe)for(const O of _.operations)x.push(...et(O,e));return x})):y.push(...Ve(i,e)),y.push(d.INDENT_END,d.NEWLINE,"}"),y},A);de(),e.exitVFor();let H=0;if(h&&(H|=1),f&&(H|=2),c&&(H|=4),!m)return[d.NEWLINE,...ie,...d.genCall([n("createSharedDataFor"),"undefined"],W,C,he,ee,H?String(H):void 0,G.length?G:void 0)];return[d.NEWLINE,...ie,...d.genCall([n("createSharedDataRecycleFor"),"undefined"],W,d.genCall([n("preCreateSharedDataRecycleFor"),"undefined"],C,B),he,ee,q,H?String(H):void 0,G.length?G:void 0)];function K(){const y=new Map;return a&&(v=a&&a.content,a.ast?T.walkIdentifiers(a.ast,(x,_,O,Y,$e)=>{if($e){let z="",se=!1,me,ge;for(let oe=0;oe<O.length;oe++){const w=O[oe],j=O[oe+1]||x;if(w.type==="ObjectProperty"&&w.value===j)w.key.type==="StringLiteral"?z+=`[${JSON.stringify(w.key.value)}]`:w.computed?(se=!0,z+=`[${a.content.slice(w.key.start-1,w.key.end-1)}]`):z+=`.${w.key.name}`;else if(w.type==="ArrayPattern"){const V=w.elements.indexOf(j);j.type==="RestElement"?z+=`.slice(${V})`:z+=`[${V}]`}else w.type==="ObjectPattern"&&j.type==="RestElement"&&(me=e.helper("getSharedDataRestElement"),ge="["+w.properties.filter(V=>V.type==="ObjectProperty").map(V=>V.key.type==="StringLiteral"?JSON.stringify(V.key.value):V.computed?(se=!0,a.content.slice(V.key.start-1,V.key.end-1)):JSON.stringify(V.key.name)).join(", ")+"]");j.type==="AssignmentPattern"&&(w.type==="ObjectProperty"||w.type==="ArrayPattern")&&(se=!0,me=e.helper("getSharedDataDefaultValue"),ge=a.content.slice(j.right.start-1,j.right.end-1))}y.set(x.name,{path:z,dynamic:se,helper:me,helperArgs:ge})}},!0):y.set(v,null)),y}function xe(y,x){if(!y)return!1;const _=x.withId(()=>D(y,x),Ce());return[...d.genMulti(["(",")",", "],v||($||S?"_":void 0),$||(S?"__":void 0),S)," => {","return ",..._,"}"]}function le(y,x,_){if(!y)return!1;const O=x.withId(()=>d.genCall(x.helper("setSharedData"),_,JSON.stringify(y.sharedData.ident),d.genCall(x.helper("toDisplayString"),D(y,x))),Ce());return[...d.genMulti(["(",")",", "],_,v||($||S?"_":void 0),$||(S?"__":void 0),S)," => (",...O,")"]}function Ee(y){return[...d.genMulti(["(",")",", "],y,v||($||S?"_":void 0),$||(S?"__":void 0),S)," => 0"]}function Ce(){const y={};return $&&(y[$]=null),S&&(y[S]=null),P.forEach((x,_)=>y[_]=null),y}}function Ut(t,e,n){const r=[],a=[];return t.effect.forEach(s=>{if(e!==void 0){const o=Sr(s,e.content,n);o&&(r.push(o),s.generated=!0);const i=$r(s,e.content);i&&(a.push(i),s.generated=!0)}}),{keyOnlyBindingPatterns:a,selectorPatterns:r}}function $r(t,e){if(t.expressions.length===1){const{ast:n,content:r}=t.expressions[0];if(typeof n=="object"&&n!==null&&Ye(n,e,r))return{effect:t}}}function Sr(t,e,n){if(t.expressions.length===1){const{ast:r,content:a}=t.expressions[0];if(typeof r=="object"&&r){const s=[];if(_t.walk(r,{enter(o){if(typeof o=="object"&&o&&o.type==="BinaryExpression"&&o.operator==="==="&&o.left.type!=="PrivateName"){const{left:i,right:l}=o;for(const[u,c]of[[i,l],[l,i]]){const p=Ye(u,e,a),f=Ye(c,e,a),h=vr(c,n);p&&!f&&!h.length&&s.push([u,c])}}}}),s.length===1){const[o,i]=s[0],l=t.expressions[0].content;let u=!1;if(T.walkIdentifiers(r,c=>{c.start!==o.start&&c.start!==i.start&&(u=!0)},!1),!u){const c=l.slice(i.start-1,i.end-1);return{effect:t,selector:{content:c,ast:N.extend({},i,{start:1,end:c.length+1}),loc:i.loc,isStatic:!1}}}}}}}function vr(t,e){let n=[];const r=[];T.walkIdentifiers(t,a=>{r.push(a)},!1);for(const a of r)N.isGloballyAllowed(a.name)||e[a.name]&&n.push(a.name);return n}function Ye(t,e,n){let r=!0;return _t.walk(t,{enter(a){if(n.slice(a.start-1,a.end-1)===e){this.skip();return}a.type==="Identifier"&&(r=!1)}}),r}function jt(t,e){return`${t.helper("createSharedDataVFor")}(${t.sharedDataScopeVar}, () => useSharedData<\`${t.sharedDataVForClassType(e)}\`>(${t.sharedDataScopeVar}))`}function Nr(t,e){var n;const{helper:r}=e,{value:a}=t;return[d.NEWLINE,...(n=a.sharedData)!=null&&n.ident?d.genCall(r("setSharedData"),e.sharedDataVar,JSON.stringify(a.sharedData.ident),D(a,e)):[]]}function Jt(t,e,n=!1){const{helper:r}=e,{condition:a,positive:s,negative:o,once:i}=t,[l,u]=d.buildCodeFragment(),c=["() => ",...Bt(a,e),""];let p=ke(s,e),f=!1;return o&&(o.type===1?f=ke(o,e):f=["() => ",...Jt(o,e,!0)]),n||u(d.NEWLINE),u(...d.genCall(r("createSharedDataIf"),c,p,f,i&&"true")),l}function Bt(t,e){return t.sharedData?d.genCall(e.helper("setSharedData"),e.sharedDataVar,JSON.stringify(t.sharedData.ident),d.genCall(e.helper("toSharedDataBoolean"),D(t,e))):[JSON.stringify(be(t))]}const re={setText:{name:"setText"},setHtml:{name:"setHtml"},setClass:{name:"setClass"},setStyle:{name:"setStyle"},setValue:{name:"setValue"},setAttr:{name:"setAttr",needKey:!0},setProp:{name:"setProp",needKey:!0},setDOMProp:{name:"setDOMProp",needKey:!0}};function Tr(t,e){const{prop:{key:n,values:r,modifier:a,sharedData:s},tag:o,isChangeProp:i}=t,l=xr(o,n.content,a),u=e.getPropertyType(o,n.content),[c,p]=d.buildCodeFragment();return s?(p(d.NEWLINE,...d.genCall(e.helper(ze(l.name,i)),e.sharedDataVar,JSON.stringify(s.ident),Kt(u,o,n.content,Ae(r,e),e))),c):(r.filter(f=>{var h;return(h=f.sharedData)==null?void 0:h.ident}).forEach(f=>{p(d.NEWLINE,...d.genCall(e.helper(ze(l.name,i)),e.sharedDataVar,JSON.stringify(f.sharedData.ident),Kt(u,o,n.content,Ae([f],e),e)))}),c)}function Kt(t,e,n,r,a){if(t)switch(t){case"string":case"number":case"boolean":case"color":return d.genCall(a.helper(`toSharedData${N.capitalize(t)}`),r);case"enum":return Dr(e,n,r,a)}return r}function Dr(t,e,n,r){return d.genCall(r.helper(`toSharedData${N.capitalize(N.camelize(t))}${N.capitalize(N.camelize(e))}`),n)}function _r(t,e){const{helper:n}=e,r=t.props.map(a=>Array.isArray(a)?Gt(a,e):a.kind===1?Gt([a],e):D(a.value,e));return[d.NEWLINE,...d.genCall(n(ze("setDynamicProps")),e.sharedDataVar,JSON.stringify(t.sharedData.ident),d.genMulti(d.DELIMITERS_ARRAY,...r))]}function Gt(t,e){return d.genMulti(d.DELIMITERS_OBJECT,...t.map(n=>[...Ht(n,e),": ",...Ae(n.values,e)]))}function Ht({key:t,modifier:e,runtimeCamelize:n,handler:r,handlerModifiers:a},s){const{helper:o}=s,i=a&&a.options?a.options.map(N.capitalize).join(""):"";if(t.isStatic){const u=(r?N.toHandlerKey(t.content):t.content)+i;return[[T.isSimpleIdentifier(u)?u:JSON.stringify(u),-2,t.loc]]}let l=D(t,s);return n&&(l=d.genCall(o("camelize"),l)),r&&(l=d.genCall(o("toHandlerKey"),l)),["[",e&&`${JSON.stringify(e)} + `,...l,i?` + ${JSON.stringify(i)}`:void 0,"]"]}function Ae(t,e){return t.length===1?D(t[0],e):d.genMulti(d.DELIMITERS_ARRAY,...t.map(n=>D(n,e)))}function xr(t,e,n){const r=t.toUpperCase();return n?n==="."?Yt(e,r)||re.setDOMProp:re.setAttr:Yt(e,r)||(/aria[A-Z]/.test(e)?re.setDOMProp:N.isSVGTag(t)||N.shouldSetAsAttr(r,e)||e.includes("-")?re.setAttr:re.setProp)}function Yt(t,e){if(t==="value"&&N.canSetValueDirectly(e))return re.setValue;if(t==="class"||t==="hover-class"&&e==="VIEW")return re.setClass;if(t==="style")return re.setStyle;if(t==="innerHTML")return re.setHtml;if(t==="textContent")return re.setText}function ze(t,e){if(e)return"setSharedData";switch(t){case"setClass":return"setSharedDataClass";case"setStyle":return"setSharedDataStyle";case"setText":case"setHtml":case"setValue":case"setAttr":case"setProp":case"setDOMProp":return"setSharedDataAttr";case"setDynamicProps":return"setSharedDataDynamicProps";default:const n=t;throw new Error(`Unhandled operation type in genOperation: ${n}`)}}const zt="_setTemplateRef";function Cr(t,e){if(e.options.isCppExpr(t.value.ast))return[];const[n,r]=br(t.value,e);let a=d.genCall(zt,`n${t.element}`,n,t.effect?`r${t.element}`:t.refFor?"null":void 0,t.refFor&&"true",r);return t.value.sharedData&&(a=d.genCall(e.helper("setSharedDataTemplateRef"),e.sharedDataVar,JSON.stringify(t.value.sharedData.ident),[`(n${t.element}: number) => {`,...a,"}"])),[d.NEWLINE,t.effect&&`r${t.element} = `,...a]}function Ir(t,e){return e.options.isCppExpr(t.value.ast)?[]:[d.NEWLINE,`let r${t.id}: any | null`]}function br(t,e){if(t&&e.options.inline){const n=e.options.bindingMetadata[t.content];if(n==="setup-let"||n==="setup-ref"||n==="setup-maybe-ref")return[[t.content],JSON.stringify(t.content)]}return[D(t,e)]}function wr(t,e){const{helper:n}=e,{values:r}=t,[a,s]=d.buildCodeFragment(),o=new Set;return r.filter(i=>{var l;return(l=i.sharedData)==null?void 0:l.ident}).forEach(i=>{const l=i.sharedData.ident;o.has(l)||(o.add(l),s(d.NEWLINE,...d.genCall(n("setSharedData"),e.sharedDataVar,JSON.stringify(i.sharedData.ident),d.genCall(e.helper("toDisplayString"),D(i,e)))))}),a}function Pr(t,e){return[]}function Ar({dir:{exp:t}},e){return t?[d.NEWLINE,...d.genCall(e.helper("renderSharedDataEffect"),["() => { ",...d.genCall(e.helper("setSharedData"),e.sharedDataVar,JSON.stringify(t.sharedData.ident),d.genCall(e.helper("toSharedDataBoolean"),D(t,e)))," }"])]:[]}function kr(t,e){const{dir:{exp:n,modifiers:r}}=t,a=n.sharedData;return[d.NEWLINE,...d.genCall(e.helper("setSharedDataEvent"),e.sharedDataVar,JSON.stringify(a.vModel.eventIdent),d.genCall(e.helper("setSharedDataModel"),e.sharedDataVar,JSON.stringify(a.ident),["() => (",...D(n,e),")"],Xt(n,e),r.length?`{ ${r.map(s=>s.content+": true").join(",")} }`:void 0))]}function Xt(t,e){return[`${e.options.isTS?"(_value: any)":"_value"} => (`,...D(t,e,"_value"),")"]}function Vr(t,e){switch(t.name){case"show":return Ar(t,e);case"model":return kr(t,e);default:return[]}}function Or(t,e){const n=Rr(t,e.block.operation);return n.length?Mr(n,e):[]}function Mr(t,e){const{helper:n}=e,r=`n${t[0].element}`,a=t.map(o),s=d.genMulti(d.DELIMITERS_ARRAY,...a);return[d.NEWLINE,...d.genCall(n("withVaporDirectives"),r,s)];function o({dir:i,name:l,asset:u}){const c=u?T.toValidAssetId(l,"directive"):D(N.extend(T.createSimpleExpression(l,!1),{ast:null}),e),p=i.exp&&["() => ",...D(i.exp,e)],f=i.arg&&D(i.arg,e),h=!!i.modifiers.length&&["{ ",qt(i.modifiers.map(m=>m.content))," }"];return d.genMulti(d.DELIMITERS_ARRAY.concat("null"),c,p,f,h)}}function qt(t){return t.map(e=>`${T.isSimpleIdentifier(e)?e:JSON.stringify(e)}: true`).join(", ")}function Rr(t,e){return e.filter(n=>n.type===13&&n.element===t&&!n.builtin)}function Lr(t,e){const{helper:n}=e,r=E(),{root:a,props:s,slots:o,sharedData:i}=t,l=Jr(o,e),[u,c]=Wr(s,e),p=e.withId(()=>Zt(s,e),u),f=c.reduce((v,{name:$,value:S})=>{const C=He(e,S,void 0,!1);return[...v,`const ${$} = `,...C,d.NEWLINE]},[]),h=t.dynamic&&!t.dynamic.isStatic,m=t.asset;return[d.NEWLINE,...f,`const n${t.id} = `,...d.genCall(n(h?"createSharedDataDynamicComponent":m?"createSharedDataComponentWithFallback":"createSharedDataComponent"),r,p,l,a?"true":!1),d.NEWLINE,...d.genCall(n("setSharedData"),e.sharedDataVar,JSON.stringify(i.ident),[`n${t.id}`,m?"?.sharedData":".sharedData"])];function E(){if(t.dynamic)return t.dynamic.isStatic?d.genCall(n("resolveDynamicComponent"),D(t.dynamic,e)):["() => (",...D(t.dynamic,e),")"];if(t.asset)return T.toValidAssetId(t.tag,"component");{const{tag:v}=t,$=d.isBuiltInComponent(v);return $?(n($),`_${$}`):D(N.extend(T.createSimpleExpression(v,!1),{ast:null}),e)}}}function Fr(t,e){const{seenInlineHandlerNames:n}=t;e=Ge(e);const r=n[e]||0;return n[e]=r+1,r===0?e:`${e}${r}`}function Wr(t,e){const n=Object.create(null),r=[],a=t[0];if(N.isArray(a))for(let s=0;s<a.length;s++){const o=a[s];o.handler&&o.values.forEach((i,l)=>{if(!T.isMemberExpression(i,e.options)){const u=Fr(e,`_on_${o.key.content.replace(/-/g,"_")}`);r.push({name:u,value:i}),n[u]=null,o.values[l]=N.extend({ast:null},T.createSimpleExpression(u))}})}return[n,r]}function Zt(t,e){const n=t[0];if(N.isArray(n))return!n.length&&t.length===1?void 0:Xe(n,e,Qt(t.slice(1),e));if(t.length)return Xe([],e,Qt(t,e))}function Xe(t,e,n){const r=t.map(a=>en(a,e,!0));return n&&r.push(["'$': ",...n]),d.genMulti(r.length>1?d.DELIMITERS_OBJECT_NEWLINE:d.DELIMITERS_OBJECT,...r)}function Qt(t,e){const{helper:n}=e,r=[];for(const a of t){let s;if(N.isArray(a)){a.length&&r.push(Xe(a,e));continue}else a.kind===1?s=d.genMulti(d.DELIMITERS_OBJECT,en(a,e)):(s=D(a.value,e),a.handler&&(s=d.genCall(n("toHandlers"),s)));r.push(["() => (",...s,")"])}if(r.length)return d.genMulti(d.DELIMITERS_ARRAY_NEWLINE,...r)}function en(t,e,n){const r=Ae(t.values,e);return[...Ht(t,e),": ",...t.handler?He(e,t.values[0],t.handlerModifiers,!0):n?["() => (",...r,")"]:r,...t.model?[...Ur(t,e),...jr(t,e)]:[]]}function Ur(t,e){const n=t.key.isStatic?[JSON.stringify(`onUpdate:${N.camelize(t.key.content)}`)]:['["onUpdate:" + ',...D(t.key,e),"]"],r=Xt(t.values[0],e);return[",",d.NEWLINE,...n,": () => ",...r]}function jr(t,e){const{key:n,modelModifiers:r}=t;if(!r||!r.length)return[];const a=n.isStatic?[N.getModifierPropName(n.content)]:["[",...D(n,e),' + "Modifiers"]'],s=qt(r);return[",",d.NEWLINE,...a,`: () => ({ ${s} })`]}function Jr(t,e){if(!t.length)return;const n=t[0];return n.slotType===0?qe(n,e,t.length>1?t.slice(1):void 0):qe({slots:{}},e,t)}function qe({slots:t},e,n){const r=Object.keys(t).map(a=>[`${JSON.stringify(a)}: `,...Qe(t[a],e)]);return n&&r.push(["'$': ",...Br(n,e)]),d.genMulti(d.DELIMITERS_OBJECT_NEWLINE,...r)}function Br(t,e){return d.genMulti(d.DELIMITERS_ARRAY_NEWLINE,...t.map(n=>n.slotType===0?qe(n,e):n.slotType===4?n.slots.content:Ze(n,e,!0)))}function Ze(t,e,n=!1){let r;switch(t.slotType){case 1:r=Kr(t,e);break;case 2:r=Gr(t,e);break;case 3:r=Hr(t,e);break}return n?["() => (",...r,")"]:r}function Kr(t,e){const{name:n,fn:r}=t;return d.genMulti(d.DELIMITERS_OBJECT_NEWLINE,["name: ",...Ft(n,e,e.helper("toDisplayString"))],["fn: ",...Qe(r,e)])}function Gr(t,e){const n=e.enterVFor(),{name:r,fn:a,loop:s}=t,{value:o,key:i,index:l,source:u}=s,c=o&&o.content,p=i&&i.content,f=l&&l.content,h={};c&&(h[c]=c),p&&(h[p]=p),f&&(h[f]=f);const m=d.genMulti(d.DELIMITERS_OBJECT_NEWLINE,["name: ",...e.withId(()=>{if(!r.sharedData)return D(r,e);const v=e.enterBlock(a),$=Ft(r,e,e.helper("toDisplayString"));return v(),$},h)],["fn: ",...e.withId(()=>Qe(a,e),h)]),E=[...d.genCall(e.helper("createSharedDataForSlots"),d.genCall(e.helper("setSharedData"),e.sharedDataVar,JSON.stringify(u.sharedData.ident),jt(e,n)),D(u,e),[...d.genMulti(["(",")",", "],e.sharedDataVForVar,c||(p||f?"_":void 0),p||(f?"__":void 0),f)," => (",...m,")"])];return e.exitVFor(),E}function Hr(t,e){const{condition:n,positive:r,negative:a}=t;return[...Bt(n,e),d.INDENT_START,d.NEWLINE,"? ",...Ze(r,e),d.NEWLINE,": ",...a?[...Ze(a,e)]:["null"],d.INDENT_END]}function Qe(t,e){let n=!1,r,a,s,o;const{props:i,key:l,node:u}=t,c=new Set;i&&(r=i.content,(n=!!i.ast)?([o,s]=e.enterScope(),a=`_slotProps${o}`,T.walkIdentifiers(i.ast,(h,m,E,v,$)=>{$&&c.add(h.name)},!0)):c.add(a=r));const p={};c.forEach(h=>p[h]=n?`${a}[${JSON.stringify(h)}]`:null);let f=e.withId(()=>ke(t,e,[a]),p);return s&&s(),l&&(f=["() => {",d.INDENT_START,d.NEWLINE,"return ",...d.genCall(e.helper("createKeyedFragment"),["() => ",...D(l,e)],f),d.INDENT_END,d.NEWLINE,"}"]),u.type===1&&!d.isKeepAliveTag(u.tag)&&(f=[`${e.helper("withSharedDataVaporCtx")}(`,...f,Yr(u)?", 'string'":"",")"]),f}function Yr(t){return t.children.every(e=>zr(e))}function zr(t){return t.type===5||t.type===2}function Xr(t,e){const{helper:n}=e,{name:r,fallback:a,noSlotted:s}=t,[o,i]=d.buildCodeFragment(),l=r.sharedData?["() => (",...d.genCall(e.helper("setSharedData"),e.sharedDataVar,JSON.stringify(r.sharedData.ident),D(r,e)),")"]:D(r,e);let u;return a&&(u=ke(a,e)),i(d.NEWLINE,...d.genCall(n("createSharedDataSlot"),l,Zt(t.props,e)||"null",u,s&&"null",s&&"true")),o}function tn(t,e){const[n,r]=d.buildCodeFragment();for(const a of t)r(...nn(a,e));return n}function nn(t,e){const[n,r]=d.buildCodeFragment();return r(...et(t,e)),n}function et(t,e){switch(t.type){case 2:return Tr(t,e);case 3:return _r(t,e);case 4:return wr(t,e);case 5:return fr(t,e);case 6:return hr(t,e);case 7:return Nr(t,e);case 8:return Cr(t,e);case 9:return ar(t,e);case 10:return sr(t,e);case 15:return Jt(t,e);case 16:return Er(t,e);case 11:return Lr(t,e);case 14:return Ir(t,e);case 12:return Xr(t,e);case 13:return Vr(t,e);case 17:return Pr();case 18:return[];case 19:return[];default:const n=t;throw new Error(`Unhandled operation type in genOperation: ${n}`)}}function qr(t,e,n){const{helper:r}=e,a=t.flatMap(h=>h.expressions),[s,o,i]=d.buildCodeFragment(),l=n===void 0;let u=0;const{ids:c,frag:p,varNames:f}=ir(e,a,l);o(...p);for(let h=0;h<t.length;h++){const m=t[h];u+=m.operations.length;const E=e.withId(()=>Zr(m,e),c);h>0&&o(d.NEWLINE),s[s.length-1]===")"&&E[0]==="("&&o(";"),o(...E)}return(s.filter(h=>h===d.NEWLINE).length>1||u>1||p.length>0)&&(i("{",d.INDENT_START,d.NEWLINE),o(d.INDENT_END,d.NEWLINE,"}"),t.length||i(d.NEWLINE)),t.length&&s.length&&(i(d.NEWLINE,`${r("renderSharedDataEffect")}(() => `),o(")")),!l&&f.length&&i(d.NEWLINE,"let ",f.join(", ")),n&&o(...e.withId(n,c)),s}function Zr({operations:t},e){const[n,r]=d.buildCodeFragment(),a=tn(t,e);return a.filter(s=>s===d.NEWLINE).length>1?r(...a):r(...a.filter(s=>s!==d.NEWLINE)),n}function tt(t,e){const[n,r]=d.buildCodeFragment(),{operation:a,hasDynamicChild:s}=t;return a&&r(...nn(a,e)),s&&r(...nt(t,e)),n}function nt(t,e){const[n,r]=d.buildCodeFragment(),{children:a}=t;let s=0,o=0,i=0;for(const[l,u]of a.entries()){u.operation&&u.operation.anchor===-1&&i++,u.flags&2?s--:u.ifBranch&&o++;const c=u.flags&1?u.flags&4?u.anchor:u.id:void 0;if(c===void 0&&!u.hasDynamicChild){r(...tt(u,e));continue}c===void 0?e.block.tempId++:`${c}`,c===u.anchor&&!u.hasDynamicChild&&r(...tt(u,e)),c!==void 0&&r(...Or(c,e)),r(...nt(u,e))}return n}function ke(t,e,n=[],r){return["(",...n,") => {",d.INDENT_START,...Ve(t,e,r),d.INDENT_END,d.NEWLINE,"}"]}function Ve(t,e,n,r){const[a,s]=d.buildCodeFragment(),{dynamic:o,effect:i,operation:l,returns:u,key:c}=t,p=e.enterBlock(t);if(t.hasDeferredVShow&&s(d.NEWLINE,"const deferredApplyVShows = []"),n){for(let h of e.ir.component){const m=T.toValidAssetId(h,"component"),E=h.endsWith("__self");E&&(h=h.slice(0,-6)),s(d.NEWLINE,`const ${m} = `,...d.genCall(e.helper("resolveComponent"),JSON.stringify(h),E?"true":void 0))}f("directive","resolveDirective")}for(const h of o.children)s(...tt(h,e));for(const h of o.children)h.hasDynamicChild||s(...nt(h,e));if(s(...tn(l,e)),s(...qr(i.filter(h=>!h.generated),e,r)),t.hasDeferredVShow&&s(d.NEWLINE,"deferredApplyVShows.forEach(fn => fn())"),o.needsKey)for(const h of o.children){const m=c?D(c,e):JSON.stringify(h.id);s(d.NEWLINE,`n${h.id}.$key = `,...m)}return p(),a;function f(h,m){for(const E of e.ir[h])s(d.NEWLINE,`const ${T.toValidAssetId(E,h)} = `,...d.genCall(e.helper(m),JSON.stringify(E)))}}function Qr(t){return!(!t||t==="string"||t==="number"||t==="boolean"||t==="UniNativeColor"||t.startsWith("Array<"))}function ae(t,e){return{valueCode:t,setterCode:e}}function rt(t,e){return{error:t,valueCode:"",setterCode:""}}function Ne(t,e,n){return t.type=e,t.options=n,t}function ea(t,e){return Ne(n=>{const r=n+"";if(t.values&&!t.values.includes(r))return rt(`Invalid enum value: ${r}. Expected one of: ${t.values.join(", ")}`);const a=e(N.capitalize(N.camelize(r.trim().replace(" ","-"))));return t.property?ae(a,`${t.name} = ${a}`):ae(a,`${t.name}(${a})`)},"enum",t)}function ta(t,e){return Mt(t)?n=>`UTSCPP.propertyAccess(${e}, "::", "${N.capitalize(N.camelize(n+""))}")`:n=>`${e}.${N.capitalize(N.camelize(n+""))}`}const na=["number"];function ra(t){return!!(t&&na.includes(t))}function aa(t){return Ne(e=>{const n=parseFloat(String(e));return isNaN(n)?rt(`Invalid number value: ${e}`):t.property?ae(`${n}`,`${t.name} = ${n}`):ae(`${n}`,`${t.name}(${n})`)},"number",t)}const sa=["string"];function oa(t){return!!(t&&sa.includes(t))}function ia(t){return Ne(e=>t.property?ae(`"${e}"`,`${t.name} = "${e}"`):ae(`"${e}"`,`${t.name}("${e}")`),"string",t)}var rn={global:{description:"\u5168\u5C40\u914D\u7F6E\uFF0C\u6240\u6709\u7EC4\u4EF6\u90FD\u652F\u6301\u7684\u5185\u5BB9",classes:{dom:"UniElement",nv:"UniNativeBaseView"},attributes:{id:{type:"string",description:"\u7EC4\u4EF6\u7684\u552F\u4E00\u6807\u8BC6",uniPlatform:{app:{"dom-c":{propertyName:"id"}},"app-android":{"dom-kt":{propertyName:"id"}}}},class:{type:"Array<string>",description:"class\u5C5E\u6027\u503C(class name)\u7684\u96C6\u5408\uFF0C\u652F\u6301vue\u6846\u67B6\u5B9E\u73B0class\u5C5E\u6027",uniPlatform:{app:{"dom-c":{propertyName:"classList"}},"app-android":{"dom-kt":{propertyName:"classList"}}}},"data-*":{description:"\u81EA\u5B9A\u4E49\u6570\u636E\u5C5E\u6027\uFF0C\u9700\u8981\u5BF9\u5C5E\u6027\u540D\u79F0\u505A\u8F6C\u6362\uFF0C\u8FD0\u884C\u671F\u5728runtime\u5C42\u7EDF\u4E00\u5B9E\u73B0\uFF1B\u7F16\u8BD1\u5668\u652F\u6301\u5C5E\u6027\u540D\u79F0\u8F6C\u6362\u7684\u8BDD\u76F4\u63A5\u64CD\u4F5C\u5C5E\u6027",uniPlatform:{app:{"dom-c":{propertyName:"dataset",setter:"setAttributeDataset"}},"app-android":{"dom-kt":{propertyName:"dataset",setter:"setAttributeDataset"}}}},slot:{type:"UniNativeSlotType",description:"\u63D2\u69FD\u7C7B\u578B",defaultValue:"none",values:["none","refresher"],uniPlatform:{app:{"nv-c":{setter:"slot"}}}}}},view:{classes:{dom:"UniViewElement",nv:"UniNativeView"},attributes:{flatten:{type:"boolean",description:"\u7EC4\u4EF6\u662F\u5426\u88AB\u62CD\u5E73",uniPlatform:{app:{"page-c":{setter:"createNativeView"}},"app-android":{"page-kt":{setter:"createNativeView"}}}},"hover-class":{type:"string",description:"\u6309\u4E0B\u53BB\u7684\u6837\u5F0F\u7C7B\uFF0C\u9700\u8981\u6846\u67B6\u8F6C\u6362\u4E3A\u6837\u5F0F\u5217\u8868hoverStyles",uniPlatform:{app:{"dom-c":{setter:"setHoverStyles"}},"app-android":{"dom-kt":{setter:"setHoverStyles"}}}},"hover-stop-propagation":{type:"boolean",description:"\u662F\u5426\u963B\u6B62\u672C\u8282\u70B9\u7684\u7956\u5148\u8282\u70B9\u51FA\u73B0\u70B9\u51FB\u6001",uniPlatform:{app:{"nv-c":{setter:"hoverStopPropagation"}},"app-android":{"nv-kt":{setter:"hoverStopPropagation"}}}},"hover-start-time":{type:"number",description:"\u6309\u4F4F\u540E\u591A\u4E45\u51FA\u73B0\u70B9\u51FB\u6001",uniPlatform:{app:{"nv-c":{setter:"hoverStartTime"}},"app-android":{"nv-kt":{setter:"hoverStartTime"}}}},"hover-stay-time":{type:"number",description:"\u6309\u4F4F\u540E\u591A\u4E45\u51FA\u73B0\u70B9\u51FB\u6001",uniPlatform:{app:{"nv-c":{setter:"hoverStayTime"}},"app-android":{"nv-kt":{setter:"hoverStayTime"}}}}}},text:{classes:{dom:"UniTextElement",nv:"UniNativeTextView"},attributes:{flatten:{type:"boolean",description:"\u7EC4\u4EF6\u662F\u5426\u88AB\u62CD\u5E73",uniPlatform:{app:{"page-c":{setter:"createNativeTextView"}},"app-android":{"page-kt":{setter:"createNativeTextView"}}}},"user-select":{type:"boolean",description:"\u6587\u672C\u662F\u5426\u53EF\u9009",uniPlatform:{app:{"nv-c":{setter:"userSelect"}},"app-android":{"nv-kt":{setter:"userSelect"}}}},"max-lines":{type:"number",description:"\u9650\u5236\u6587\u672C\u7684\u6700\u5927\u884C\u6570",uniPlatform:{app:{"dom-c":{setter:"setMaxLines"}},"app-android":{"dom-kt":{setter:"setMaxLines"}}}}}},image:{classes:{dom:"UniImageElement",nv:"UniNativeImageView"},attributes:{flatten:{type:"boolean",description:"\u7EC4\u4EF6\u662F\u5426\u88AB\u62CD\u5E73",uniPlatform:{app:{"page-c":{setter:"createNativeImageView"}},"app-android":{"page-kt":{setter:"createNativeImageView"}}}},src:{type:"string",description:"\u56FE\u7247\u8D44\u6E90\u5730\u5740",uniPlatform:{app:{"nv-c":{setter:"src"},"dom-c":{setter:"setSrc"}},"app-android":{"nv-kt":{setter:"src"},"dom-c":{setter:"setSrc"}}}},mode:{type:"UniImageModeType",defaultValue:"scaleToFill",values:["scaleToFill","aspectFit","aspectFill","widthFix","heightFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"],description:"\u56FE\u7247\u88C1\u526A\u3001\u7F29\u653E\u7684\u6A21\u5F0F",uniPlatform:{app:{"nv-c":{setter:"mode"},"dom-c":{setter:"setMode"}},"app-android":{"nv-kt":{setter:"mode"},"dom-c":{setter:"setMode"}}}},"lazy-load":{type:"boolean",description:"\u662F\u5426\u61D2\u52A0\u8F7D\u56FE\u7247",uniPlatform:{app:{"nv-c":{setter:"lazyLoad"}},"app-android":{"nv-kt":{setter:"lazyLoad"}}}},"fade-show":{type:"boolean",description:"\u662F\u5426\u663E\u793A\u52A8\u753B\u6548\u679C",uniPlatform:{app:{"nv-c":{setter:"fadeShow"}},"app-android":{"nv-kt":{setter:"fadeShow"}}}}}},"scroll-view":{classes:{dom:"UniScrollViewElement",nv:"UniNativeScrollView"},attributes:{direction:{type:"UniNativeScrollViewDirectionType",defaultValue:"vertical",values:["none","vertical","horizontal","all"],description:"\u6EDA\u52A8\u65B9\u5411\uFF0C\u53EF\u53D6\u503C none\u3001all\u3001horizontal\u3001vertical\uFF0C\u9ED8\u8BA4\u503Cvertical",uniPlatform:{app:{"nv-c":{setter:"direction"}},"app-android":{"nv-kt":{setter:"direction"}}}},"enable-back-to-top":{type:"boolean",description:"\u70B9\u51FB\u9876\u90E8\u72B6\u6001\u680F\u6EDA\u52A8\u6761\u8FD4\u56DE\u9876\u90E8\uFF0C\u53EA\u652F\u6301\u7AD6\u5411",uniPlatform:{app:{"nv-c":{setter:"enableBackToTop"}}}},bounces:{type:"boolean",description:"\u63A7\u5236\u662F\u5426\u56DE\u5F39\u6548\u679C",uniPlatform:{app:{"nv-c":{setter:"bounces"}},"app-android":{"nv-kt":{setter:"bounces"}}}},"show-scrollbar":{type:"boolean",description:"\u63A7\u5236\u662F\u5426\u51FA\u73B0\u6EDA\u52A8\u6761",uniPlatform:{app:{"nv-c":{setter:"showScrollbar"}}}},"upper-threshold":{type:"number",description:"\u8DDD\u9876\u90E8/\u5DE6\u8FB9\u591A\u8FDC\u65F6\uFF08\u5355\u4F4Dpx\uFF09\uFF0C\u89E6\u53D1 scrolltoupper \u4E8B\u4EF6",uniPlatform:{app:{"nv-c":{setter:"upperThreshold"}},"app-android":{"nv-kt":{setter:"upperThreshold"}}}},"lower-threshold":{type:"number",description:"\u8DDD\u5E95\u90E8/\u53F3\u8FB9\u591A\u8FDC\u65F6\uFF08\u5355\u4F4Dpx\uFF09\uFF0C\u89E6\u53D1 scrolltolower \u4E8B\u4EF6",uniPlatform:{app:{"nv-c":{setter:"lowerThreshold"}},"app-android":{"nv-kt":{setter:"lowerThreshold"}}}},"scroll-top":{type:"number",description:"\u8BBE\u7F6E\u7AD6\u5411\u6EDA\u52A8\u6761\u4F4D\u7F6E",uniPlatform:{app:{"nv-c":{setter:"scrollTop"}},"app-android":{"nv-kt":{setter:"scrollTop"}}}},"scroll-left":{type:"number",description:"\u8BBE\u7F6E\u6A2A\u5411\u6EDA\u52A8\u6761\u4F4D\u7F6E",uniPlatform:{app:{"nv-c":{setter:"scrollLeft"}},"app-android":{"nv-kt":{setter:"scrollLeft"}}}},"scroll-with-animation":{type:"boolean",description:"\u662F\u5426\u5728\u8BBE\u7F6E\u6EDA\u52A8\u6761\u4F4D\u7F6E\u65F6\u4F7F\u7528\u6EDA\u52A8\u52A8\u753B\uFF0C\u8BBE\u7F6Efalse\u6CA1\u6709\u6EDA\u52A8\u52A8\u753B",uniPlatform:{app:{"nv-c":{setter:"scrollWithAnimation"}},"app-android":{"nv-kt":{setter:"scrollWithAnimation"}}}},"refresher-enabled":{type:"boolean",description:"\u5F00\u542F\u4E0B\u62C9\u5237\u65B0\uFF0C\u6682\u65F6\u4E0D\u652F\u6301scroll-x = true\u6A2A\u5411\u5237\u65B0",uniPlatform:{app:{"nv-c":{setter:"refresherEnabled"}},"app-android":{"nv-kt":{setter:"refresherEnabled"}}}},"refresher-threshold":{type:"number",description:"\u8BBE\u7F6E\u4E0B\u62C9\u5237\u65B0\u9608\u503C",uniPlatform:{app:{"nv-c":{setter:"refresherThreshold"}},"app-android":{"nv-kt":{setter:"refresherThreshold"}}}},"refresher-max-drag-distance":{type:"number",description:"\u8BBE\u7F6E\u4E0B\u62C9\u6700\u5927\u62D6\u62FD\u8DDD\u79BB\uFF08\u5355\u4F4Dpx\uFF09\uFF0C\u9ED8\u8BA4\u662F\u4E0B\u62C9\u5237\u65B0\u63A7\u4EF6\u9AD8\u5EA6\u76842.5\u500D",uniPlatform:{app:{"nv-c":{setter:"refresherMaxDragDistance"}},"app-android":{"nv-kt":{setter:"refresherMaxDragDistance"}}}},"refresher-background":{type:"UniNativeColor",description:"\u8BBE\u7F6E\u4E0B\u62C9\u5237\u65B0\u533A\u57DF\u80CC\u666F\u989C\u8272\uFF0C\u9ED8\u8BA4\u900F\u660E",uniPlatform:{app:{"nv-c":{setter:"refresherBackground"}},"app-android":{"nv-kt":{setter:"refresherBackground"}}}},"refresher-triggered":{type:"boolean",description:"\u8BBE\u7F6E\u5F53\u524D\u4E0B\u62C9\u5237\u65B0\u72B6\u6001\uFF0Ctrue \u8868\u793A\u4E0B\u62C9\u5237\u65B0\u5DF2\u7ECF\u88AB\u89E6\u53D1\uFF0Cfalse \u8868\u793A\u4E0B\u62C9\u5237\u65B0\u672A\u88AB\u89E6\u53D1",uniPlatform:{app:{"nv-c":{setter:"refresherTriggered"}},"app-android":{"nv-kt":{setter:"refresherTriggered"}}}},type:{type:"string",description:"\u6E32\u67D3\u6A21\u5F0F\uFF0C\u53EF\u53D6\u503C nested",uniPlatform:{"app-android":{"nv-kt":{setter:"type"}}}},"associative-container":{type:"string",description:"\u5173\u8054\u7684\u6EDA\u52A8\u5BB9\u5668",uniPlatform:{"app-android":{"nv-kt":{setter:"associativeContainer"}}}}}}};const at=new Map;function an(t){if(at.has(t))return at.get(t);const e={},n=rn,r=sn(t,n.global.attributes);return Object.keys(n).forEach(a=>{if(a!=="global"){const s=sn(t,n[a].attributes);e[a]=N.extend({},r,s)}}),at.set(t,e),e}function sn(t,e){const n={};return Object.keys(e).forEach(r=>{const a=e[r];if(a.uniPlatform[t]||a.uniPlatform.app){const s=a.type;if(s)switch(s){case"string":n[r]="string";break;case"number":n[r]="number";break;case"boolean":n[r]="boolean";break;case"UniNativeColor":n[r]="color";break;case"Array<string>":n[r]="Array<string>";break;default:n[r]="enum";break}}}),n}function la(t,e){const n={},r=rn,a=on(t,e,r.global.attributes);return Object.keys(r).forEach(s=>{if(s!=="global"){const o=on(t,e,r[s].attributes,r[s].classes[e.split("-")[0]]);n[s]={...a,...o}}}),n}function on(t,e,n,r){const a={};return Object.keys(n).forEach(s=>{const o=n[s];let i;const l=o.uniPlatform[t]||o.uniPlatform.app;if(l){const u=l[e];if(u){const{type:c,propertyName:p,setter:f}=u;i={type:c||o.type,property:!!p,name:p||f,values:o.values,className:r}}}a[s]=i}),a}const ca=["boolean"];function ua(t){return!!(t&&ca.includes(t))}function pa(t){return Ne(e=>t.property?ae("true",`${t.name} = true`):ae("true",`${t.name}(true)`),"boolean",t)}const da=["UniNativeColor"];function fa(t){return!!(t&&da.includes(t))}function ha(t){return Ne(e=>{const n=ma(String(e));return n?t.property?ae(n,`${t.name} = ${n}`):ae(n,`${t.name}(${n})`):rt(`Invalid color value: ${e}`)},"color",t)}function ma(t){const e=wn(t);if(e.isValid()){const n=e.toHex8();return"0x"+(n.slice(6,8)+n.slice(0,6))}}const st=new Map;function ga(t,e){return`${t}:${e}`}function ln(t,e){const n=ga(t,e);if(st.has(n))return st.get(n);const r={},a=la(t,e);return Object.keys(a).forEach(o=>{const i=a[o],l={};Object.keys(i).forEach(u=>{const c=i[u];let p;c&&(p=s(c)),l[u]=p}),r[o]=l}),st.set(n,r),r;function s(o){const i=o.type;if(ra(i))return aa(o);if(oa(i))return ia(o);if(ua(i))return pa(o);if(fa(i))return ha(o);if(i)return ea(o,ta(e,i))}}function ya(t){const e=an(t);return(n,r)=>{if(r.startsWith("data-"))return!0;const a=e[n];return a?!!a[r]:!1}}function Ea(t){return(e,n,r,a)=>{let s="";const o=[],i=ln(t,e)[n];if(i){if(r in i){const l=i[r];if(l){const u=l(a,r);s=u.setterCode,u.error&&o.push(u.error)}}else o.push(`Property '${r}' is not supported on '<${n}>'`);return{code:s,errors:o}}}}function $a(t,e){const n=ln(t,e);return(r,a)=>{var s;const o=n[r];if(o&&a in o)return(s=o[a])==null?void 0:s.options}}function Sa(t){const e=an(t);return(n,r)=>{const a=e[n];if(a)return a[r]}}class va extends Rt{constructor(e,n){super(),this.ir=e,this.helpers=new Set([]),this.helper=a=>(this.helpers.add(a),`_${a}`),this.delegates=new Set,this.identifiers=Object.create(null),this.seenInlineHandlerNames=Object.create(null),this.scopeLevel=0;const r={root:"",mode:"module",platform:"app-harmony",prefixIdentifiers:!0,sourceMap:!1,filename:"template.vue.html",relativeFilename:"",scopeId:null,runtimeGlobalName:"Vue",runtimeModuleName:"vue",ssrRuntimeModuleName:"vue/server-renderer",ssr:!1,isTS:!1,inSSR:!1,inline:!1,bindingMetadata:{},expressionPlugins:[],componentType:"page",className:"",onError:T.defaultOnError,onWarn:T.defaultOnWarn,onVueTemplateCompileLog:()=>{},isCppExpr:()=>!1};this.options=N.extend(r,n),this.block=e.block,this.getPropertyType=Sa(n.platform)}withId(e,n){const{identifiers:r}=this,a=Object.keys(n);for(const o of a)r[o]||(r[o]=[]),r[o].unshift(n[o]||o);const s=e();return a.forEach(o=>N.remove(r[o],n[o]||o)),s}enterScope(){return[this.scopeLevel++,()=>this.scopeLevel--]}get sharedDataScopeVar(){return"__sharedDataScope"}sharedDataVForClassType(e){return`\${__SHARED_DATA_CLASS_NAME_TYPE}_VFor${e}`}}function Na(t,e){const[n,r]=d.buildCodeFragment(),a=new va(t,e),{helpers:s}=a,{inline:o}=e;r(d.NEWLINE,"return (function renderSharedData(): UniSharedData { 'raw js'"),r(d.INDENT_START),e.componentType==="page"?(r(d.NEWLINE,`const __sharedData = useSharedDataPage<__SHARED_DATA_CLASS_NAME_TYPE>(${a.helper("useSharedDataPageId")}())`),r(d.NEWLINE,`const __sharedDataScope = ${a.helper("useSharedDataScope")}(__sharedData)`)):(r(d.NEWLINE,`const __sharedDataScope = ${a.helper("useSharedDataScope")}()`),r(d.NEWLINE,"const __sharedData = useSharedDataComponent<__SHARED_DATA_CLASS_NAME_TYPE>(__sharedDataScope)")),t.hasTemplateRef&&r(d.NEWLINE,`const ${zt} = ${a.helper("createSharedDataTemplateRefSetter")}()`),r(...Ve(t.block,a,!0)),r(d.NEWLINE,"return __sharedData"),r(d.INDENT_END,d.NEWLINE),r("})()");const i=Ta(a)+Da(a)+_a(a),l=[...i].filter(p=>p===`
`).length;l&&!o&&n.unshift(...new Array(l).fill(d.LF));const[u,c]=d.codeFragmentToString(n,a);return{code:u,ast:t,preamble:i,map:c&&c.toJSON(),helpers:s}}function Ta({helpers:t,options:e}){let n="";return t.size&&(n+=`import { ${[...t].map(r=>`${r} as _${r}`).join(", ")} } from '${e.runtimeModuleName}';
`),n}function Da({ir:t}){const e=t.node.imports;let n="";for(const r of e)n+=`import '${r.path}';
`;return n}function _a(t){return`
const __className = '${t.options.className}' as const
type __SHARED_DATA_CLASS_NAME_TYPE = \`\${typeof __className}SharedData\`
`}const g=Symbol("newline"),cn=Symbol("line feed"),te=Symbol("indent start"),ne=Symbol("indent end");function U(...t){const e=t.push.bind(t),n=t.unshift.bind(t);return[t,e,n]}function X([t,e,n,r],...a){if(r){for(;a.length>0&&!a[a.length-1];)a.pop();a=a.map(i=>i||r)}else a=a.filter(Boolean);const s=[];o(t);for(let[i,l]of a.entries())o(l),i<a.length-1&&o(n);return o(e),s;function o(i){N.isArray(i)||(i=[i]),s.push(...i)}}const Oe=["[","]",", "],xa=[["[",te,g],[ne,g,"]"],[",",g]],Me=[["{",te,g],[ne,g,"}"],[",",g]];function I(t,...e){const n=N.isArray(t),r=n?t[0]:t,a=n?t[1]:"null";return[r,...X(["(",")",", ",a],...e)]}function Ca(t,e){const{options:{sourceMap:n}}=e,r=e.options.relativeFilename||e.options.filename;let a;n&&(a=new ve.SourceMapGenerator,a.setSourceContent(r,e.ir.source),a._sources.add(r));let s="";const o={line:1,column:1,offset:0};let i=0;for(let u of t){if(!u)continue;if(u===g)u=[`
${"  ".repeat(i)}`,0];else if(u===te){i++;continue}else if(u===ne){i--;continue}else if(u===cn){o.line++,o.column=0,o.offset++;continue}N.isString(u)&&(u=[u]);let[c,p=-2,f,h]=u;s+=c,a&&(f&&l(f.start,h),p===-3?T.advancePositionWithMutation(o,c):(o.offset+=c.length,p===-2?o.column+=c.length:(p===-1&&(p=c.length-1),o.line++,o.column=c.length-p)),f&&f!==T.locStub&&l(f.end))}return[s,a];function l(u,c=null){const{_names:p,_mappings:f}=a;c!==null&&!p.has(c)&&p.add(c),f.add({originalLine:u.line,originalColumn:u.column-1,generatedLine:o.line,generatedColumn:o.column-1,source:r,name:c})}}function Ia({parent:t,elements:e,anchor:n},{helper:r}){let a=e.map(s=>`n${s}`).join(", ");return e.length>1&&(a=`[${a}]`),[g,...I(r("insert"),a,`n${t}`,n===void 0?void 0:`n${n}`)]}function ba(t,{helper:e}){return[g,...I(e("prepend"),`n${t.parent}`,...t.elements.map(n=>`n${n}`))]}function b(t,e,n){const{content:r,ast:a,isStatic:s,loc:o,sharedData:i}=t;if(i)return[[e.sharedDataIdent(i.ident),-2,o]];if(s)return[[JSON.stringify(r),-2,o]];if(!t.content.trim()||a===!1||d.isConstantExpression(t))return[[r,-2,o],n];if(a===null)return un(r,e,o,n);const l=[],u=new Map,c=[];T.walkIdentifiers(a,f=>{l.push(f),u.set(f,c.slice())},!1,c);let p=!1;if(l.length){const[f,h]=U();return l.sort((m,E)=>m.start-E.start).forEach((m,E)=>{const v=m.start-1,$=m.end-1,S=l[E-1],C=r.slice(S?S.end-1:0,v);C.length&&h([C,-3]);const P=r.slice(v,$),k=u.get(m),Z=k[k.length-1];p||(p=Z&&(Z.type==="MemberExpression"||Z.type==="OptionalMemberExpression")),h(...un(P,e,{start:T.advancePositionWithClone(t.loc.start,P,v),end:T.advancePositionWithClone(t.loc.start,P,$),source:P},p?void 0:n,m,Z,k)),E===l.length-1&&$<r.length&&h([r.slice($),-3])}),f}else return[[r,-3,o]]}function un(t,e,n,r,a,s,o){const{options:i,helper:l,identifiers:u}=e,{inline:c,bindingMetadata:p}=i;let f=t;const h=u[t];if(h&&h.length){const S=h[0];return N.isString(S)?s&&s.type==="ObjectProperty"&&s.shorthand?[[`${f}: ${S}`,-2,n]]:[[S,-2,n]]:b(S,e,r)}let m;T.isStaticProperty(s)&&s.shorthand&&(m=`${t}: `);const E=p&&p[t];if(c)switch(E){case"setup-let":f=t=$();break;case"setup-ref":f=t=`${t}.value`;break;case"setup-maybe-ref":const S=s&&T.isInDestructureAssignment(s,o||[]),C=s&&s.type==="AssignmentExpression"&&s.left===a,P=s&&s.type==="UpdateExpression"&&s.argument===a;t=C||P||S?f=`${t}.value`:$();break;case"props":t=N.genPropsAccessExp(t);break;case"props-aliased":t=N.genPropsAccessExp(p.__propsAliases[t]);break;default:t=t}else wa(t)&&(E==="props-aliased"?t=`$props['${p.__propsAliases[t]}']`:t=`${E==="props"?"$props":"_ctx"}.${t}`),t=t;return[m,[t,-2,n,f]];function v(S){return S}function $(){return`${l("unref")}(${t})`}}function wa(t){return!(N.isGloballyAllowed(t)||t==="require"||t==="$props"||t==="$emit"||t==="$attrs"||t==="$slots")}function Pa(t,e,n){const{seenVariable:r,variableToExpMap:a,expToVariableMap:s,seenIdentifier:o,updatedVariable:i}=d.analyzeExpressions(e),l=Aa(t,r,a,s,o,i),u=Va(t,e,l,i,s);return Oa([...l,...u],t,n)}function Aa(t,e,n,r,a,s){const o=[],i=new Map;for(const[l,u]of n)if(!s.has(l)&&e[l]>1&&u.size>0){const c=a.has(l),p=c?l:ot(l);u.forEach(f=>{if(f.ast&&p!==l){const h=i.get(f)||[];h.push({name:p,locs:r.get(f).reduce((m,E)=>(E.name===l&&E.loc&&m.push(E.loc),m),[])}),i.set(f,h)}}),!o.some(f=>f.name===p)&&(!c||ka(l,r,u))&&o.push({name:p,isIdentifier:c,value:N.extend({ast:c?null:Re(t,l)},T.createSimpleExpression(l)),rawName:l,exps:u,seenCount:e[l]})}for(const[l,u]of i)u.flatMap(({name:c,locs:p})=>p.map(({start:f,end:h})=>({start:f,end:h,name:c}))).sort((c,p)=>p.end-c.end).forEach(({start:c,end:p,name:f})=>{l.content=l.content.slice(0,c-1)+f+l.content.slice(p-1)}),l.ast=Re(t,l.content,l.loc);return o}function ka(t,e,n){const r=Array.from(n,s=>e.get(s).map(o=>o.name));if(r.every(s=>s.length===1)||r.some(s=>s.filter(o=>o===t).length>1))return!0;const a=r[0];return r.some(s=>s.length!==a.length)?!(r.some(s=>s.length>a.length&&s.every(o=>a.includes(o)))||r.some(s=>a.length>s.length&&a.every(o=>s.includes(o)))):!r.every(s=>s.every((o,i)=>o===a[i]))}function Va(t,e,n,r,a){const s=[],o=e.reduce((i,l)=>{const u=a.get(l);if(!u)return i;const c=u.map(p=>p.name);return l.ast&&l.ast.type!=="Identifier"&&!(c&&c.some(p=>r.has(p)))&&(i[l.content]=(i[l.content]||0)+1),i},Object.create(null));return Object.entries(o).forEach(([i,l])=>{if(l>1){const u=ot(i);if(!s.some(c=>c.name===u)){const c={};for(let f=n.length-1;f>=0;f--){const h=n[f];!h.exps||!h.seenCount||[...h.exps].every(m=>m.content===i&&h.seenCount===l)&&(c[h.name]=h.rawName,n.splice(f,1))}const p=N.extend({},e.find(f=>f.content===i));Object.keys(c).forEach(f=>{p.content=p.content.replace(f,c[f]),p.ast&&(p.ast=Re(t,p.content,p.loc))}),s.push({name:u,value:p})}e.forEach(c=>{c.content===i?(c.content=u,c.ast=null):c.content.includes(i)&&(c.content=c.content.replace(new RegExp(Ma(i),"g"),u),c.ast=Re(t,c.content,c.loc))})}}),s}function Oa(t,e,n){const[r,a]=U(),s=Object.create(null),o=new Set;return t.forEach(({name:i,isIdentifier:l,value:u})=>{if(l){const c=s[i]=`_${i}`;o.add(c),n&&a("const "),a(`${c} = `,...b(u,e),g)}}),t.forEach(({name:i,isIdentifier:l,value:u})=>{if(!l){const c=s[i]=`_${i}`;o.add(c),n&&a("const "),a(`${c} = `,...e.withId(()=>b(u,e),s),g)}}),{ids:s,frag:r,varNames:[...o]}}function Ma(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Re(t,e,n){const r=t.options.expressionPlugins,a={plugins:r?[...r,"typescript"]:["typescript"]};try{return Se.parseExpression(`(${e})`,a)}catch(s){if(n){const o=new SyntaxError(s.message);throw o.loc=n,t.options.onError(o),o}throw s}}function ot(t){return`${t.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").replace(/_+$/,"")}`}function Ra(t,e){var n,r;if(!(e.feature&2))return[];const{element:a,key:s,keyOverride:o,modifiers:i,delegate:l,effect:u,sharedData:c,value:p}=t,f=E();if(p&&(r=(n=e.options).isCppExpr)!=null&&r.call(n,p.ast))return[g,...I(e.helper("onElement"),`n${a}`,f,["(event: UniEvent) => {",...b(p,e),"(event)","}"])];const h=v(),m=`e${c.ident}${t.element}`;return[g,`const ${m} = ${e.sharedDataIdent(c.ident)}`,g,...I(e.helper(l?"delegate":"onElement"),`n${a}`,f,["(event: UniEvent) => {",`${m}(event)`,"}"],h)];function E(){const $=b(s,e);if(o){const S=JSON.stringify(o[0]),C=JSON.stringify(o[1]),P=["(",...$,")"];return[...P,` === ${S} ? ${C} : `,...P]}else return b(s,e)}function v(){let{options:$}=i;if(!(!$.length&&!u))return X(Me,u&&["effect: true"],...$.map(S=>[`${S}: true`]))}}function La(t,e){if(!(e.feature&2))return[];const{helper:n,sharedDataIdent:r}=e;return[g,...I(n("setElementDynamicEvents"),`n${t.element}`,r(t.event.sharedData.ident))]}function Fa(t,e,n={nonKeys:[],keys:[]},r=!1){let a=["() => {}"];if(e&&e.content.trim())if(T.isMemberExpression(e,t.options))a=b(e,t),!ja(e,t)&&!r&&(a=["e => ",...a,"(e)"]);else if(T.isFnExpression(e,t.options))a=b(e,t);else{const i=e.content.includes("$event"),l=e.content.includes(";"),u=i?t.withId(()=>b(e,t),{$event:null}):b(e,t);a=[i?"$event => ":"() => ",l?"{":"(",...u,l?"}":")"]}const{keys:s,nonKeys:o}=n;return o.length&&(a=Wa(t,a,o)),s.length&&(a=Ua(t,a,s)),r&&a.unshift("() => "),a}function Wa(t,e,n){return I(t.helper("withModifiers"),e,JSON.stringify(n))}function Ua(t,e,n){return I(t.helper("withKeys"),e,JSON.stringify(n))}function ja(t,e){if(t.ast===null&&e.options.bindingMetadata[t.content]==="setup-const")return!0}function Ja(t,e){const{helper:n,pageVar:r}=e,{source:a,value:s,key:o,index:i,render:l,keyProp:u,typeProp:c,once:p,id:f,component:h,onlyChild:m}=t,E=Wt(t.node);let v=null;const $=o&&o.content,S=i&&i.content,C=["() => (",...b(a,e),")"],P=xe(),k=e.enterVFor(),[Z,de]=e.enterScope(),A={},Q=`_for_item${k}`;A[Q]=null;const F=!!a.sharedData;P.forEach((y,x)=>{let _=F?`${Q}.value${y?y.path:""}`:`${e.helper("toDisplayString")}(${Q}${y?y.path:""})`;if(y)if(y.helper&&(A[y.helper]=null,_=`${y.helper}(${_}, ${y.helperArgs})`),y.dynamic){const O=A[x]=T.createSimpleExpression(_),Y=e.options.expressionPlugins;O.ast=Se.parseExpression(`(${_})`,{plugins:Y?[...Y,"typescript"]:["typescript"]})}else A[x]=_;else A[x]=_});const W=F?[e.sharedDataVForItemVar]:[Q],ee=F?`const ${e.sharedDataVForVar} = useSharedDataVFor<UniSharedData, ${e.sharedDataVForClass(k)}>(${e.sharedDataVForItemVar})`:"",B=`_for_key${k}`;W.push(`, ${B}`),$&&(A[$]=F?`${B}.value`:`${e.helper("toDisplayString")}(${B})`,A[B]=null);const q=`_for_index${k}`;W.push(`, ${q}`),S&&(A[S]=F?`${q}.value`:`${e.helper("toDisplayString")}(${q})`,A[q]=null);const M=e.enterBlock(l),fe=le(u,F?e.sharedDataVForItemVar:void 0),ie=E&&c?le(c,F?e.sharedDataVForItemVar:void 0):Ee(e.sharedDataVForItemVar);M();const{selectorPatterns:G,keyOnlyBindingPatterns:he}=Ut(l,u,A),H=e.withId(()=>{const y=[];return y.push("(",...W,") => {",te,g,ee,g),G.length||he.length?y.push(...Ue(l,e,!1,()=>{const x=[];for(let _=0;_<G.length;_++){const{effect:O}=G[_],Y=[];for(const $e of O.operations)Y.push(...pt($e,e));Y.length&&(x.push(g,n(`render${e.helperType}Effect`),"(() => {",te),x.push(...Y),x.push(ne,g,"})"))}for(const{effect:_}of he)for(const O of _.operations)x.push(...pt(O,e));return x})):y.push(...Ue(l,e)),y.push(ne,g,"}"),y},A);de(),e.exitVFor();let K=0;if(m&&(K|=1),h&&(K|=2),p&&(K|=4),!E)return[g,`const n${f} = `,...I([n(`create${e.helperType}For`),"null"],r,C,H,fe,K?String(K):void 0,void 0)];return[g,`const n${f} = `,...I([n(`create${e.helperType}RecycleFor`),"null"],r,C,H,fe,ie,K?String(K):void 0,void 0)];function xe(){const y=new Map;return s&&(v=s&&s.content,s.ast?T.walkIdentifiers(s.ast,(x,_,O,Y,$e)=>{if($e){let z="",se=!1,me,ge;for(let oe=0;oe<O.length;oe++){const w=O[oe],j=O[oe+1]||x;if(w.type==="ObjectProperty"&&w.value===j)w.key.type==="StringLiteral"?z+=`[${JSON.stringify(w.key.value)}]`:w.computed?(se=!0,z+=`[${s.content.slice(w.key.start-1,w.key.end-1)}]`):z+=`.${w.key.name}`;else if(w.type==="ArrayPattern"){const V=w.elements.indexOf(j);j.type==="RestElement"?z+=`.slice(${V})`:z+=`[${V}]`}else w.type==="ObjectPattern"&&j.type==="RestElement"&&(me=e.helper("getRestElement"),ge="["+w.properties.filter(V=>V.type==="ObjectProperty").map(V=>V.key.type==="StringLiteral"?JSON.stringify(V.key.value):V.computed?(se=!0,s.content.slice(V.key.start-1,V.key.end-1)):JSON.stringify(V.key.name)).join(", ")+"]");j.type==="AssignmentPattern"&&(w.type==="ObjectProperty"||w.type==="ArrayPattern")&&(se=!0,me=e.helper("getDefaultValue"),ge=s.content.slice(j.right.start-1,j.right.end-1))}y.set(x.name,{path:z,dynamic:se,helper:me,helperArgs:ge})}},!0):y.set(v,null)),y}function le(y,x){if(!y)return!1;const _=e.withId(()=>b(y,e),Ce());return[...X(["(",")",", "],x||v||"_",$||"__",S||"___")," => {",g,ee,g,"return ",..._,"}"]}function Ee(y){return[...X(["(",")",", "],y,"_","__")," => {",g,'return "0"',"}"]}function Ce(){const y={};return $&&(y[$]=F?null:`${e.helper("toDisplayString")}(${$})`),S&&(y[S]=F?null:`${e.helper("toDisplayString")}(${S})`),P.forEach((x,_)=>y[_]=null),y}}function Ba(t,e){const{helper:n}=e,{value:r,element:a}=t;return[g,...I(n("setHtml"),`n${a}`,b(r,e))]}function pn(t,e,n=!1){const{helper:r,pageVar:a}=e,{condition:s,positive:o,negative:i,once:l}=t,[u,c]=U(),p=["() => (",...Ka(s,e),")"];let f=We(o,e),h=!1;return i&&(i.type===1?h=We(i,e):h=["() => ",...pn(i,e,!0)]),n||c(g,`const n${t.id} = `),c(...I(r(`create${e.helperType}If`),a,p,f,h,l&&"true")),u}function Ka(t,e){return t.sharedData?b(t,e):[JSON.stringify(be(t))]}function Ga(t,e){const{helper:n}=e,{prop:{key:r,values:a,sharedData:s},tag:o}=t,i=r.content;if(!["class","style","hover-class"].includes(i)){const c=e.getPropertyOptions(o,i);if(!c)return[];const{name:p,property:f,className:h}=c,[m,E]=U();E(g);const v=h?`${e.genCastCode([`n${t.element}`],h,{dereference:!0}).join("")}`:`n${t.element}`;return E(f?`${v}.${p} = `:`${v}.${p}(`),E(...s?dn(c,[e.sharedDataIdent(s.ident)],e):dn(c,fn(a,e),e)),f||E(")"),m}if(e.options.renderer==="nativeView")return[];const l=i==="class"||i==="hover-class",u=[`n${t.element}`,!1];if(l&&u.unshift("__sharedData"),s)u.push(e.sharedDataIdent(s.ident));else if(l&&a.length===1&&a[0].isStatic){const c=a[0].content;u.push(JSON.stringify(c.split(/\s+/).map(p=>p)))}else u.push(fn(a,e));return[g,...I([n(i==="class"?"setElementClass":i==="hover-class"?"setElementHoverClass":"setElementStyle"),null],...u)]}function dn(t,e,n){return Qr(t.type)?n.genCastCode(e,t.type):e}function Ha(t,e){const{helper:n,sharedDataIdent:r}=e;return[g,...I(n(`set${e.helperType}DynamicProps`),"__sharedData",`n${t.element}`,r(t.sharedData.ident))]}function fn(t,e){return t.length===1?b(t[0],e):X(Oe,...t.map(n=>b(n,e)))}function Ya({prop:t},{helper:e,sharedDataIdent:n,feature:r}){if(!(r&32))return[];const[a,s]=U();s(g);const o=t.values[0].sharedData.ident;s(`const p_${o} = ${n(o)}`),s(g),s(`${e("runOnMainQueue")}(() => {`);const i=t.values[0].content;return s(`${i}(p_${o})`),s("})"),a}function za(t,e){return e.feature&16?e.options.isCppExpr(t.value.ast)?[g,...I(e.helper("onElementRef"),`n${t.element}`,["(el: UniElement) => {",...b(t.value,e),"(el)","}"])]:t.value.sharedData?[g,...I(e.helper("onElementRef"),`n${t.element}`,e.sharedDataIdent(t.value.sharedData.ident))]:[]:[]}function Xa(t){return[]}function qa(t,e){if(!(e.feature&1))return[];const{helper:n}=e,{element:r,values:a,generated:s}=t,o=Za(a,e);return[g,...I(n("setElementText"),`${s?"x":"n"}${r}`,o)]}function Za(t,e){return t.flatMap((n,r)=>{let a=b(n,e);return r>0&&a.unshift(" + "),a})}function Qa(t,e){return e.feature&1?[g,`const x${t.parent} = ${e.helper(`child${e.helperType}`)}(n${t.parent})`]:[]}function es(t,e){return e.feature&8?[g,...I(e.helper("applyElementVShow"),`n${t.element}`,["() => (",...b(t.dir.exp,e),")"])]:[]}const ts={text:"applyElementTextModel",dynamic:"applyElementDynamicModel"};function ns(t,e){if(!(e.feature&4))return[];const{modelType:n,element:r,dir:{exp:a,modifiers:s}}=t;return[g,...I(e.helper(ts[n]),`n${r}`,["() => (",...b(a,e),")"],e.sharedDataIdent(a.sharedData.vModel.eventIdent),s.length?`{ ${s.map(o=>o.content+": true").join(",")} }`:void 0)]}function rs(t,e){switch(t.name){case"show":return es(t,e);case"model":return ns(t,e);default:return[]}}function it(t,e){const n=os(t,e.block.operation);return n.length?as(n,e):[]}function as(t,e){const{helper:n}=e,r=`n${t[0].element}`,a=t.map(o),s=X(Oe,...a);return[g,...I(n("withVaporDirectives"),r,s)];function o({dir:i,name:l,asset:u}){const c=u?T.toValidAssetId(l,"directive"):b(N.extend(T.createSimpleExpression(l,!1),{ast:null}),e),p=i.exp&&["() => ",...b(i.exp,e)],f=i.arg&&b(i.arg,e),h=!!i.modifiers.length&&["{ ",ss(i.modifiers.map(m=>m.content))," }"];return X(Oe.concat("null"),c,p,f,h)}}function ss(t){return t.map(e=>`${T.isSimpleIdentifier(e)?e:JSON.stringify(e)}: true`).join(", ")}function os(t,e){return e.filter(n=>n.type===13&&n.element===t&&!n.builtin)}function is(t,e){const{helper:n,sharedDataIdent:r}=e,{root:a,props:s,slots:o,sharedData:i}=t,l=us(o,e),[u,c]=cs(s,e),p=c.reduce((m,{name:E,value:v})=>{const $=Fa(e,v,void 0,!1);return[...m,`const ${E} = `,...$,g]},[]),f=[r(i.ident),void 0,l,a?"true":!1];let h=n(`create${e.helperType}Component`);return t.dynamic&&!t.dynamic.isStatic?h=n(`create${e.helperType}DynamicComponent`):t.asset&&(h=n(`create${e.helperType}ComponentWithFallback`),f.unshift(e.pageVar)),[g,...p,`const n${t.id} = `,...I(h,...f),...it(t.id,e)]}function ls(t,e){const{seenInlineHandlerNames:n}=t;e=ot(e);const r=n[e]||0;return n[e]=r+1,r===0?e:`${e}${r}`}function cs(t,e){const n=Object.create(null),r=[],a=t[0];if(N.isArray(a))for(let s=0;s<a.length;s++){const o=a[s];o.handler&&o.values.forEach((i,l)=>{if(!T.isMemberExpression(i,e.options)){const u=ls(e,`_on_${o.key.content.replace(/-/g,"_")}`);r.push({name:u,value:i}),n[u]=null,o.values[l]=N.extend({ast:null},T.createSimpleExpression(u))}})}return[n,r]}function us(t,e){if(!t.length)return;const n=t[0];return n.slotType===0?lt(n,e,t.length>1?t.slice(1):void 0):lt({slots:{}},e,t)}function lt({slots:t},e,n){const r=Object.keys(t).map(a=>[`${JSON.stringify(a)}: `,...ut(t[a],e)]);return n&&r.push(["'$': ",...ps(n,e)]),X(Me,...r)}function ps(t,e){return X(xa,...t.map(n=>n.slotType===0?lt(n,e):n.slotType===4?n.slots.content:ct(n,e,!0)))}function ct(t,e,n=!1){let r;switch(t.slotType){case 1:r=ds(t,e);break;case 2:r=fs(t,e);break;case 3:r=hs(t,e);break}return n?["() => (",...r,")"]:r}function ds(t,e){const{name:n,fn:r}=t;return X(Me,["'name': ",...b(n,e)],["'fn': ",...ut(r,e)])}function fs(t,e){e.enterVFor();const{name:n,fn:r,loop:a}=t,{value:s,key:o,index:i,source:l}=a,u=s&&s.content,c=o&&o.content,p=i&&i.content,f={};u&&(f[u]=u),c&&(f[c]=c),p&&(f[p]=p);const h=X(Me,["'name': ",...e.withId(()=>{const E=e.enterBlock(r),v=b(n,e);return E(),v},f)],["'fn': ",...e.withId(()=>ut(r,e),f)]),m=[...I(e.helper(`create${e.helperType}ForSlots`),b(l,e),[...X(["(",")",", "],e.sharedDataVForVar,u||(c||p?"_":void 0),c||(p?"__":void 0),p)," => (",...h,")"])];return e.exitVFor(),m}function hs(t,e){const{condition:n,positive:r,negative:a}=t;return[...b(n,e),te,g,"? ",...ct(r,e),g,": ",...a?[...ct(a,e)]:["null"],ne]}function ut(t,e){let n=!1,r,a,s;const{props:o,key:i,node:l}=t,u=new Set;o&&(n=!!o.ast)&&([s,a]=e.enterScope());const c={};u.forEach(f=>c[f]=n?`${r}[${JSON.stringify(f)}]`:null);let p=e.withId(()=>We(t,e,[r]),c);return a&&a(),i&&(p=["() => {",te,g,"return ",...I(e.helper("createKeyedFragment"),["() => ",...b(i,e)],p),ne,g,"}"]),l.type===1&&!d.isKeepAliveTag(l.tag)&&(p=[`${e.helper(`with${e.helperType}VaporCtx`)}(`,...p,")"]),p}function ms(t,e){const{helper:n,pageVar:r}=e,{id:a,name:s,fallback:o,noSlotted:i}=t,[l,u]=U(),c=s.isStatic?b(s,e):["() => (",...b(s,e),")"];let p;return o&&(p=We(o,e)),u(g,`const n${a} = `,...I(n(`create${e.helperType}Slot`),r,c,"null",p,i&&"true")),l}function hn(t,e){const[n,r]=U();for(const a of t)r(...mn(a,e));return n}function mn(t,e){const[n,r]=U();return d.isBlockOperation(t)&&t.parent&&r(...Es(t,e)),r(...pt(t,e)),n}function pt(t,e){switch(t.type){case 2:return Ga(t,e);case 3:return Ha(t,e);case 4:return qa(t,e);case 5:return Ra(t,e);case 6:return La(t,e);case 7:return Ba(t,e);case 8:return za(t,e);case 9:return Ia(t,e);case 10:return ba(t,e);case 15:return pn(t,e);case 16:return Ja(t,e);case 11:return is(t,e);case 14:return Xa();case 12:return ms(t,e);case 13:return rs(t,e);case 17:return Qa(t,e);case 18:return $s(t,e);case 19:return Ya(t,e);default:const n=t;throw new Error(`Unhandled operation type in genOperation: ${n}`)}}function gs(t,e,n){const{helper:r}=e,a=t.flatMap(m=>m.expressions),[s,o,i]=U(),l=n===void 0;let u=0;const{ids:c,frag:p,varNames:f}=Pa(e,a,l);for(let m=0;m<t.length;m++){const E=t[m];u+=E.operations.length;const v=e.withEffect(()=>e.withId(()=>ys(E,e),c));m>0&&v.length&&o(g),s[s.length-1]===")"&&v[0]==="("&&o(";"),o(...v)}const h=s.filter(m=>m===g).length;return s.length&&(h>1||u>1||p.length>0)&&(i("{",te,g),o(ne,g,"}"),t.length||i(g)),t.length&&s.length&&(i(g,`${r(`render${e.helperType}Effect`)}(() => `),o(")")),!l&&f.length&&i(g,"let ",f.join(", ")),n&&o(...e.withId(n,c)),s}function ys({operations:t},e){const[n,r]=U(),a=hn(t,e);return a.filter(s=>s===g).length>1?r(...a):r(...a.filter(s=>s!==g)),n}function Es(t,e){const{parent:n,anchor:r,append:a,last:s}=t;return[g,...I(e.helper(`set${e.helperType}InsertionState`),`n${n}`,r==null?void 0:r===-1?"0":a?r===0?"null":`${r}`:`n${r}`,s&&"true")]}function $s({id:t},e){return e.feature&1?[g,`const n${t} = ${e.helper(`get${e.helperType}InsertionParent`)}()`]:[]}const J={TEXT:"text",COMMENT:"comment",ELEMENT:"element"},gn=["view","text","image"],L={VALUE_ATTR:"value",EMPTY_STRING:"",TEXT_PLACEHOLDER:d.TEXT_PLACEHOLDER,UNKNOWN_COMMENT:"unknown",EXT_STYLE_MARKER:"ext:style"},pe={ELEMENT:"e",TEMPLATE:"t",FACTORY:"f"},yn="<!--",dt=/\s/,Ss=/[\s=]/,ft=/\s*\/$/;class Dt{constructor(e){this.html=e,this.length=e.length,this.index=0}parse(){const e=[];for(this.index=0;this.index<this.length;)if(this.html[this.index]==="<"){const n=this.parseTag();n?(e.push(n.node),this.index=n.endIndex):this.index++}else{const n=this.parseText();n&&e.push(n)}return e}parseText(){const e=this.index,n=this.html.indexOf("<",e),r=n===-1?this.length:n;if(e===r)return null;const a=this.html.substring(e,r);return this.index=r,{type:"text",content:a}}parseTag(){return this.html.startsWith(yn,this.index)?this.parseComment():this.html.startsWith("<!",this.index)?this.parseDoctype():this.parseElement()}parseComment(){const e=this.index+yn.length,n=this.html.indexOf("-->",e);return n===-1?null:{node:{type:"comment",content:this.html.substring(e,n)},endIndex:n+3}}parseDoctype(){const e=this.html.indexOf(">",this.index+2);return e===-1?null:{node:{type:"comment",content:""},endIndex:e+1}}parseElement(){const e=this.html.indexOf(">",this.index);if(e===-1)return null;const n=this.html.substring(this.index+1,e),{tag:r,attrs:a,selfClosing:s}=this.parseTagContent(n);if(s)return{node:{type:"element",tag:r,attrs:a,children:[]},endIndex:e+1};const o=this.findMatchingEndTag(r,e+1);if(o===-1)return{node:{type:"element",tag:r,attrs:a,children:[]},endIndex:e+1};const i=this.html.substring(e+1,o),l=i?new Dt(i).parse():[];return r==="text"&&l.length===1&&l[0].type==="text"&&l[0].content.length===1&&l[0].content[0]!==`
`&&(a["max-lines"]="1"),{node:{type:"element",tag:r,attrs:a,children:l},endIndex:o+`</${r}>`.length}}parseTagContent(e){const n=ft.test(e),r=e.replace(ft,"").trim();if(!r)return{tag:"",attrs:{},selfClosing:n};const a=r.search(dt),s=a===-1?r:r.substring(0,a);if(a===-1)return{tag:s,attrs:{},selfClosing:n};const o=r.substring(a+1),i=this.parseAttributes(o);return{tag:s,attrs:i,selfClosing:n}}parseAttributes(e){const n={};let r=0;const a=e.length;for(;r<a&&(r=this.skipWhitespace(e,r),!(r>=a));){const s=r;for(;r<a&&!Ss.test(e[r]);)r++;if(r===s)break;const o=e.substring(s,r);if(r=this.skipWhitespace(e,r),r>=a||e[r]!=="="){this.isSpecialAttribute(o)||(n[o]=o);continue}if(r++,r=this.skipWhitespace(e,r),r>=a){this.isSpecialAttribute(o)||(n[o]="");continue}const i=this.parseAttributeValue(e,r);(!this.isSpecialAttribute(o)||i.value.trim()!=="")&&(n[o]=i.value),r=i.endIndex}return n}parseAttributeValue(e,n){const r=e[n];if(r==='"'||r==="'"){const a=n+1;let s=a;for(;s<e.length&&e[s]!==r;)s++;return{value:e.substring(a,s),endIndex:s<e.length?s+1:s}}else{const a=n;let s=a;for(;s<e.length&&!dt.test(e[s]);)s++;return{value:e.substring(a,s),endIndex:s}}}isSpecialAttribute(e){return e==="id"||e==="class"||e==="style"||e==="hover-class"}skipWhitespace(e,n){for(;n<e.length&&dt.test(e[n]);)n++;return n}findMatchingEndTag(e,n){const r=`<${e}`,a=`</${e}>`;let s=1,o=n;for(;s>0&&o<this.length;){const i=this.html.indexOf(r,o),l=this.html.indexOf(a,o);if(l===-1)break;if(i!==-1&&i<l){const u=this.html.indexOf(">",i);if(u!==-1&&u<l){const c=this.html.substring(i+1,u);ft.test(c)||s++}o=u+1}else{if(s--,s===0)return l;o=l+a.length}}return-1}}function En(t){return!t||t.length!==1||t[0].type!==J.TEXT||t[0].content===" "?L.EMPTY_STRING:t[0].content||L.EMPTY_STRING}function ht(t){return!t||Object.keys(t).length===0||Object.keys(t).length===1&&L.EXT_STYLE_MARKER in t}function vs(t,e){const n=N.extend({},t);return e&&(n[L.VALUE_ATTR]=e),n}function $n(t){const e="page: UniPage",n=t.options.renderer==="element"?": UniElement":": UniNativeBaseView";return{paramType:e,returnType:n}}function Le(t){return`${pe.ELEMENT}${t.templateVariableCounter++}`}function Ns(t,e,n=!0){return n&&e.resetTemplateCounters(),vn(t,e)}function Sn(){return{variableName:"",statements:[]}}function vn(t,e){const n=e.options.renderer==="nativeView",r=e.renderTextContext;switch(t.type){case J.TEXT:return r.inTextElement?n?Sn():Ds(t.content||L.EMPTY_STRING,e):Ts(t.content||L.EMPTY_STRING,e);case J.COMMENT:return Nn(t.content||L.EMPTY_STRING,e);case J.ELEMENT:{if(r.inTextElement&&n)return t.tag==="text"&&(r.enterTextElement(),gt(t,e),r.exitTextElement()),Sn();if(t.tag==="text"){r.enterTextElement();const a=gt(t,e);return n&&r.textElementCount===1&&r.genIncreaseNativeViewCounter()&&a.statements.push(r.genIncreaseNativeViewCounter()),r.exitTextElement(),r.textElementNames.pop(),a}return gt(t,e)}default:return Nn(L.UNKNOWN_COMMENT,e)}}function Te(t){return L.EMPTY_STRING===t||t===L.TEXT_PLACEHOLDER}function mt(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&")}function Ts(t,e){const n=Le(e),r=[`const ${n} = ${e.genCreateTag("text")}`];return Te(t)||r.push(`${n}.setText(${JSON.stringify(mt(t))})`),{variableName:n,statements:r}}function Ds(t,e){const n=Le(e),r=[];if(!Te(t)){const a=e.renderTextContext.textElementNames.slice(-1)[0];r.push(`${a!=null?a:n}.setText(${JSON.stringify(mt(t))})`)}return{variableName:"",statements:r}}function Nn(t,e){const n=Le(e),r=[`const ${n} = ${e.genCreateTag("comment",JSON.stringify(t))}`];return{variableName:n,statements:r}}const _s={[J.TEXT]:xs};function gt(t,e){const{tag:n,attrs:r,children:a}=t,s={tag:n,attrs:r,children:a},o=_s[n];return o?o(s,e):Cs(s,e)}function xs(t,e){const{tag:n,attrs:r,children:a}=t;if(a&&a.some(s=>s.type===J.ELEMENT))return yt(n,e,r,a);{const s=En(a),o=vs(r,s);return yt(n,e,o,void 0)}}function Cs(t,e){const{tag:n,attrs:r,children:a}=t;return yt(n,e,r,a)}function Is(t,e,n){if(!e)return;const r={};for(const[a,s]of Object.entries(e))n.options.isIgnoreAttr(t,a)||(r[a]=s);return r}function yt(t,e,n,r){const a=Le(e),s=t==="text",o=e.options.renderer==="nativeView";s&&e.renderTextContext.textElementNames.push(a);const i=[];i.push(`const ${a} = ${e.genCreateTag({tag:t,attrs:n,children:r})}`);const l=Is(t,n,e);if(l&&!ht(l)){let u=!1;L.EXT_STYLE_MARKER in l&&(u=!0,delete l[L.EXT_STYLE_MARKER]);for(const[c,p]of Object.entries(l))if(c==="value"&&t==="text")Te(p)||i.push(`${a}.setText(${JSON.stringify(mt(p))})`);else if(c==="style"){const f=ue(e.options.platform,e.options.renderer),{obj:h}=e.options.parseStaticStyle(f,t,p,!1);if(h){const m=Object.keys(h);if(u&&(tr(f)||f==="all")){const{code:E}=e.options.parseStaticStyle("all",t,p,!0);E&&E!=="{}"&&i.push(`${e.helper("setElementExtStyle")}(${a}, ${E})`)}m.forEach(E=>{h[E].setterCode&&i.push(`${a}.${h[E].setterCode}`)})}}else{const f=e.options.parseStaticProp(ue(e.options.platform,e.options.renderer),t,c,p);f&&f.code&&i.push(`${a}.${f.code.replace(new RegExp(`['"]${d.IMPORT_EXP_START}(.*?)${d.IMPORT_EXP_END}['"]`),"$1")}`)}}if(r&&r.length>0)for(const u of r){const c=!(s&&o)&&bs(u,e);if(c)i.push(e.genAppendChild(a,c));else{const p=vn(u,e);i.push(...p.statements),i.push(e.genAppendChild(a,p.variableName))}}return{variableName:a,statements:i}}function bs(t,e){switch(t.type){case J.TEXT:return!(e.feature&1)||Te(t.content)?e.genCreateTag("text"):null;case J.COMMENT:return e.genCreateTag("comment",JSON.stringify(t.content||L.EMPTY_STRING));case J.ELEMENT:const n=t;return ws(n)?e.genCreateTag(n):null;default:return e.genCreateTag("comment",JSON.stringify(L.UNKNOWN_COMMENT))}}function ws(t){return ht(t.attrs)?t.children&&t.children.length>0?!!(t.tag===J.TEXT&&t.children.length===1&&t.children[0].type===J.TEXT&&Te(t.children[0].content)):!0:!1}function Ps(t,e,n){try{if(!t||typeof t!="string")return Fe(e,n);const r=new Dt(t).parse();return r.length===0?Fe(e,n):r.length===1?As(r[0],e,n):Fe(e,n)}catch{return Fe(e,n)}}function Fe(t,e){const{paramType:n,returnType:r}=$n(e);return[`const ${pe.FACTORY}${t} = (${n})${r} => {`,g,`  return ${e.genCreateTag("text")}`,g,"}"]}function As(t,e,n){const{paramType:r,returnType:a}=$n(n),s=ks(t,n);if(s)return[`const ${pe.FACTORY}${e} = (${r})${a} => {`,g,`  return ${s}`,g,"}"];const o=Ns(t,n),i=[`const ${pe.FACTORY}${e} = (${r})${a} => {`,g];for(const l of o.statements)typeof l=="string"?i.push(`  ${l}`,g):i.push(l,g);return i.push(`  return ${o.variableName}`,g,"}"),i}function ks(t,e){switch(t.type){case J.TEXT:return e.genCreateTag("text");case J.COMMENT:return e.genCreateTag("comment",JSON.stringify(t.content||L.EMPTY_STRING));case J.ELEMENT:const n=t;return Vs(n)?e.genCreateTag(n):null;default:return e.genCreateTag("comment",JSON.stringify(L.UNKNOWN_COMMENT))}}function Vs(t){return ht(t.attrs)?t.type===J.TEXT?!En(t.children):!t.children||t.children.length===0:!1}const Tn=t=>t[0]!=="<"&&t!==d.TEXT_PLACEHOLDER;function Os(t,e){const n=[];for(let r=0;r<t.length;r++){const a=t[r];if(!Tn(a)){const s=Ps(a,r,e);n.push(g,...s)}}return n}function Ms(t,e,n){const{helper:r,options:a}=n,s=[];for(let o=0;o<t.length;o++){const i=t[o];if(Tn(i))i===d.TEXT_NODE_PLACEHOLDER?s.push(`const ${pe.TEMPLATE}${o} = () => ${n.options.renderer==="element"?`${n.pageVar}.createTextNode()`:'""'}`):s.push(`const ${pe.TEMPLATE}${o} = (): string => "${n.options.renderer==="element"?i:""}"`);else{const l=e.has(o)?", true":"";s.push(`const ${pe.TEMPLATE}${o} = ${r(`${a.renderer}Factory`)}(${n.pageVar}, ${pe.FACTORY}${o}${l})`)}o<t.length-1&&s.push(g)}return s}function Rs(t,e,n){return Os(Array.from(t.keys()),n)}function Et(t,e){const[n,r]=U(),{id:a,template:s,operation:o,hasDynamicChild:i}=t;return a!==void 0&&s!==void 0&&(r(g,`const n${a} = t${s}()`),r(...it(a,e))),o&&r(...mn(o,e)),i&&r(...$t(t,e,r,`n${a}`)),n}function $t(t,e,n,r=`n${t.id}`){const{helper:a,helperType:s,options:o}=e,[i,l]=U(),{children:u}=t;let c=0,p,f=0,h=0,m=0;const E=t.tag==="text";for(let[v,$]of u.entries()){if($.type===2){m++;continue}if(E&&o.renderer==="nativeView"&&$.tag==="text"){m++;continue}v=v-m,$.operation&&$.operation.anchor===-1&&h++,$.flags&2?c--:$.ifBranch&&f++;const S=$.flags&1?$.flags&4?$.anchor:$.id:void 0;if(S===void 0&&!$.hasDynamicChild){l(...Et($,e));continue}const C=v+c,P=S===void 0?`p${e.block.tempId++}`:`n${S}`;if(n(g,`const ${P} = `),p)C-p[1]===1?n(...I(a(`next${s}`),p[0])):n(...I(a(`nthChild${s}`),r,String(C)));else if(C===0)n(...I(a(`child${s}`),r));else{let k=I(a(`child${s}`),r);C===1?k=I(a(`next${s}`),k):C>1&&(k=I(a(`nthChild${s}`),r,String(C))),n(...k)}S===$.anchor&&!$.hasDynamicChild&&l(...Et($,e)),S!==void 0&&l(...it(S,e)),p=[P,C],l(...$t($,e,n,P))}return i}function We(t,e,n=[],r){return["(",...n,") => {",te,...Ue(t,e),ne,g,"}"]}function Ue(t,e,n,r){const[a,s]=U(),{dynamic:o,effect:i,operation:l,returns:u,key:c}=t,p=e.enterBlock(t);t.hasDeferredVShow&&s(g,"const deferredApplyVShows = []");for(const m of o.children)s(...Et(m,e));for(const m of o.children)m.hasDynamicChild||s(...$t(m,e,s,`n${m.id}`));if(s(...hn(l,e)),s(...gs(i.filter(m=>!m.generated),e,r)),t.hasDeferredVShow&&s(g,"deferredApplyVShows.forEach(fn => fn())"),o.needsKey)for(const m of o.children){const E=c?b(c,e):JSON.stringify(m.id);s(g,`n${m.id}.$key = `,...E)}s(g,"return ");const f=u.map(m=>`n${m}`),h=f.length>1?[...X(Oe,...f),` as Uni${e.helperType}Block[]`]:[f[0]||"null"];return s(...h),p(),a}const Ls=63,Fs=0;function Ws(t,e){return!1}function Us(t,e){return t==="text"&&e==="value"}class js{constructor(e){this.__inTextElement=!1,this.increaseNativeViewCount=0,this.textElementCount=0,this.textElementNames=[],this.options=e}set inTextElement(e){this.__inTextElement!==e&&(this.__inTextElement=e,e&&(this.increaseNativeViewCount=0))}get inTextElement(){return this.__inTextElement}enterTextElement(){this.inTextElement&&this.increaseNativeViewCount++,this.inTextElement=!0,this.textElementCount++}exitTextElement(){this.textElementCount--,this.textElementCount===0&&(this.inTextElement=!1)}genIncreaseNativeViewCounter(){return this.increaseNativeViewCount>0?`page.increaseNativeViewCounter(${this.increaseNativeViewCount})`:""}}class Js extends Rt{constructor(e,n){super(),this.ir=e,this.helpers=new Set([]),this.helper=s=>(this.helpers.add(s),`_${s}`),this.delegates=new Set,this.identifiers=Object.create(null),this.seenInlineHandlerNames=Object.create(null),this.scopeLevel=0,this.sharedDataIdent=s=>(this.effectSharedDataIdentifiers.add(s),`${this.sharedDataVar}.get_${s}(__reactivity)`),this.templateVariableCounter=0,this.templateStyleCounter=0,this.effectSharedDataIdentifiers=new Set;const r={root:"",mode:"module",platform:"app-harmony",target:"dom-c",renderer:"element",prefixIdentifiers:!0,sourceMap:!1,filename:"template.vue.html",relativeFilename:"",scopeId:null,runtimeGlobalName:"Vue",runtimeModuleName:"vue",ssrRuntimeModuleName:"vue/server-renderer",ssr:!1,isTS:!1,inSSR:!1,inline:!1,bindingMetadata:{},expressionPlugins:[],componentType:"page",className:"",scriptCppBlocks:[],parseStaticStyle:(s,o,i,l)=>({obj:{},messages:[]}),parseStaticProp:()=>{},isIgnoreAttr:()=>!1,onError:T.defaultOnError,onWarn:T.defaultOnWarn,onVueTemplateCompileLog:()=>{},isCppExpr:()=>!1};this.options=N.extend(r,n),this.block=e.block;const a=this.options.renderer==="nativeView";this.genCreateTag=a?this.genCreateNativeView:this.genCreateElement,this.genAppendChild=a?this.genAppendChildNativeView:this.genAppendChildElement,this.getPropertyOptions=$a(this.options.platform,this.options.target),this.renderTextContext=new js(this.options)}withId(e,n){const{identifiers:r}=this,a=Object.keys(n);for(const o of a)r[o]||(r[o]=[]),r[o].unshift(n[o]||o);const s=e();return a.forEach(o=>N.remove(r[o],n[o]||o)),s}enterScope(){return[this.scopeLevel++,()=>this.scopeLevel--]}get insVar(){return"__ins"}get insMethodName(){return`getCurrent${this.helperType}VaporComponentInstance`}get pageVar(){return"__page"}get helperType(){return this.options.renderer==="nativeView"?"NativeView":"Element"}sharedDataVForClass(e){return`${this.options.className}SharedData_VFor${e}`}get feature(){return this.options.renderer==="nativeView"?Fs:Ls}resetTemplateCounters(){this.templateVariableCounter=0,this.templateStyleCounter=0}withEffect(e){this.effectSharedDataIdentifiers.clear();const n=e();if(this.effectSharedDataIdentifiers.size){const[r,a]=U();return a(g),a(`if(${Ys(this)}) {`),a(g),a(te),a(...n),a(ne),a(g),a("}"),this.effectSharedDataIdentifiers.clear(),r}return n}genCreateNativeView(e,n,r){var a;let s,o=null;typeof e=="string"?s=e:(s=e.tag,o=e);const i=[];n&&s!=="text"&&i.push(n),r==null&&o&&(r=gn.includes(s)&&((a=o.attrs)==null?void 0:a.flatten)==="true"),r?i.push("true"):i.push("false");const l=i.join(", ");switch(s){case"view":return`page.createNativeView(${l})`;case"text":return`page.createNativeTextView(${l})`;case"image":return`page.createNativeImageView(${l})`;case"comment":return"null";case"scroll-view":return"page.createNativeScrollView()";case"native-view":return"page.createNativeCustomView()";default:return"page.createNativeView(false)"}}genCreateElement(e,n,r){var a;let s,o=null;typeof e=="string"?s=e:(s=e.tag,o=e);const i=[];n&&s!=="comment"&&i.push(n),r==null&&o&&(r=gn.includes(s)&&((a=o.attrs)==null?void 0:a.flatten)==="true"),r?i.push("true"):s!=="comment"&&i.push("false");const l=i.join(", ");switch(s){case"view":return`page.createViewElement(${l})`;case"text":return`page.createTextElement(${l})`;case"_text":return"page.createTextNode()";case"image":return`page.createImageElement(${l})`;case"comment":return`page.createComment(${l||'""'})`;case"scroll-view":return"page.createScrollViewElement()";case"native-view":return"page.createNativeViewElement()";default:return"page.createViewElement(false)"}}genAppendChildNativeView(e,n){return e===""||n===""?"":`${this.helper("appendNativeViewChild")}(${e}, ${n})`}genAppendChildElement(e,n){return e===""||n===""?"":`${e}.appendChild(${n})`}genCastCode(e,n,r){return Mt(this.options.target)?I(`UTSCPP.as<${n}${r!=null&&r.dereference?", '*'":""}>`,e):[";(",...e,"as",n,")"]}}function Dn(t,e){var n;e.renderer=(n=e.renderer)!=null?n:"element",e.isIgnoreAttr=e.renderer==="element"?Ws:Us;const[r,a]=U(),s=new Js(t,e),{helpers:o}=s,i="render"+N.capitalize(e.renderer),l=[`__sharedData: ${e.className}SharedData`,"__page: UniPage","__reactivity: VueReactivity"].join(", ");a(g,`export function ${i}(${l}): Uni${s.helperType}Block {`),a(te);const u=a(g);s.options.scriptCppBlocks.length>0&&s.feature&32&&a(...Xs(s.options.scriptCppBlocks,s)),a(...Gs(s));const c=Rs(t.template,t.rootTemplateIndexes,s);if(a(...c),t.template.size>0){const v=Ms(Array.from(t.template.keys()),t.rootTemplateIndexes,s);a(g,...v)}a(...Ue(t.block,s)),a(ne,g),a("}"),s.helpers.has(s.insMethodName)?r.splice(u,0,`const ${s.insVar} = ${s.helper(s.insMethodName)}()!`):r.splice(u,1);const p=Bs(s),f=Ks(s)+p,h=[...f].filter(v=>v===`
`).length;h&&r.unshift(...new Array(h).fill(cn));let[m,E]=Ca(r,s);return m=f+m,{code:m,ast:t,preamble:f,map:E&&E.toJSON(),helpers:o}}function Bs({delegates:t,helper:e}){return t.size?I(e("delegateEvents"),...Array.from(t).map(n=>`"${n}"`)).join("")+`
`:""}function Ks({helpers:t,helper:e,options:n}){let r="";return["getRestElement","getDefaultValue"].forEach(a=>{t.delete(a)}),t.size&&(r+=`import { ${[...t].map(a=>`${a} as _${a}`).join(", ")} } from '${n.runtimeModuleName}';
`),r}function Gs({ir:t}){const e=t.node.imports,n=[];for(const r of e){const a=r.exp.content;n.push(g,`const ${a} = '${r.path}';`)}return n}const Hs=new we(2e3);function Ys(t){return Array.from(t.effectSharedDataIdentifiers).map(e=>zs(e,t)).join(" || ")}function zs(t,e){const{index:n,bitValue:r}=Hs.getGroupInfo(t);return`${e.sharedDataVar}._flag${n} & ${r}`}function Xs(t,e){const[n,r]=U();r(g);for(const a of t)r(`const ${a.module} = ${e.helper("createUserClass")}<${a.className}>()`);return n}function St(t,e){const n=new SyntaxError(t);return e&&(n.loc={start:{...e.start},end:{...e.end},source:e.source}),n}function _n(t,e){const n=St(t,e);return n.errorType="css",n}function vt(t,e){const n=St(t,e);return n.errorType="prop",n}const qs={1e4:"Text or interpolation can only be used inside <text> tag.",10001:"A <text> element can only contain one text node."};function je(t,e,n){let r=qs[t];return St(r,e)}function Zs(t){return t.type===1&&t.tagType===0&&t.tag==="text"}function Qs(t){return t.type===1&&t.tagType===0&&t.tag==="view"}function eo(t){return t.tagType===0||t.tagType===1}function to(t,e){function n(a,s,o){var i,l;const u=eo(s)?s:o;for(let c=0;c<a.length;c++){const p=a[c];if(p.type===2||p.type===5){if(!u)(i=e.onError)==null||i.call(e,je(1e4,p.loc));else if(!Zs(u)&&u.tagType!==1)if(Qs(u)){const f=p;a[c]=f}else(l=e.onError)==null||l.call(e,je(1e4,p.loc))}else p.type===1&&r(p,u)}}function r(a,s=null){var o,i;if(a.type===1){const l=a;if(l.tag==="text"){let u=0,c=!1;for(let p=0;p<l.children.length;p++){const f=l.children[p];if(f.type===2){if(!c&&(c=!0,u++,u>1)){(o=e.onError)==null||o.call(e,je(10001,l.loc));break}}else f.type===1&&(c=!1)}}n(l.children,l,s)}else if(a.type===0){const l=a;for(let u=0;u<l.children.length;u++){const c=l.children[u];c.type===2||c.type===5?(i=e.onError)==null||i.call(e,je(1e4,c.loc)):c.type===1&&r(c,null)}}}r(t)}const xn=new Map;function no(t){return xn.get(t)||{className:"",scriptCppBlocks:[],renderElementCode:"",renderNativeViewCode:"",renderElementSourceMap:null,renderNativeViewSourceMap:null}}function ro(t,e,n,r,a){xn.set(t,{className:e,scriptCppBlocks:a,renderElementCode:n.code,renderElementSourceMap:n.map,renderNativeViewCode:r.code,renderNativeViewSourceMap:r.map})}function ao(t,e){const n=oo(e),r=N.isString(t)?d.parse(t,n):t;to(r,n);const[a,s]=so(),{expressionPlugins:o}=n;(!o||!o.includes("typescript"))&&(n.expressionPlugins=[...o||[],"typescript"]);const i=d.transform(r,N.extend({checkStaticStyle:io(n),checkStaticProp:lo(n),resolveChangeProp:co()},n,{nodeTransforms:[...a,...n.nodeTransforms||[]],directiveTransforms:N.extend({},s,n.directiveTransforms||{})}));i.hasTemplateRef=!1,Qn(i,n);const l=Na(i,n),u=Dn(i,{...n,target:ue(n.platform,"nativeView"),renderer:"nativeView"}),c=Dn(i,{...n,target:ue(n.platform,"element"),renderer:"element"});return n.filename&&n.className&&(n.emitSharedData||ro)(yr(n.filename),n.className,c,u,n.scriptCppBlocks),{...l,sharedData:l,nativeView:u,element:c}}function so(){return d.getBaseTransformPreset()}function oo(t){const e=N.extend({},t);if(e.parseStaticStyle){const n=e.parseStaticStyle,r=new Map;e.parseStaticStyle=(a,s,o,i)=>{const l=`${a}-${s}-${o}`;if(r.has(l))return r.get(l);const u=n(a,s,o,i);return r.set(l,u),u}}return e.parseStaticProp=Ea(t.platform),e.scriptCppBlocks&&!e.isCppExpr&&(e.isCppExpr=n=>{if(!n||n.type!=="MemberExpression"||n.object.type!=="Identifier")return!1;const r=n.object.name;return e.scriptCppBlocks.some(a=>a.module===r)}),e}function io(t){const e=t.parseStaticStyle,n=ue(t.platform,"element"),r=ue(t.platform,"nativeView");function a(s){return s.replace("ERROR: ","").replace("WARNING: ","")}return(s,o,i,l)=>{const{messages:u}=e(n,i.tag,s,!1),{messages:c}=e(r,i.tag,s,!1);u.forEach(p=>{l.options.onWarn(_n(a(p.text),o))}),c.forEach(p=>{u.some(f=>f.text===p.text)||l.options.onWarn(_n(a(p.text),o))})}}function lo(t){const e=t.parseStaticProp,n=ue(t.platform,"element"),r=ue(t.platform,"nativeView"),a=ya(t.platform);return(s,o,i,l,u,c)=>{if(!s)return a(u.tag,o)?!0:(c.options.onWarn(vt(`Property '${o}' is not supported on '<${u.tag}>'`,l)),!1);const p=e(n,u.tag,o,i),f=new Set;p&&p.errors.length>0&&p.errors.forEach(m=>{f.add(m)});const h=e(r,u.tag,o,i);return h&&h.errors.length>0&&h.errors.forEach(m=>{f.add(m)}),f.size?(f.forEach(m=>{c.options.onWarn(vt(m,l))}),!1):!0}}function co(t){return(e,n)=>{const r=[],a=[];for(const o of e)a.push(o.key.content);const s=[];for(let o=0;o<e.length;o++){const i=e[o],l=i.key.content;if(l.startsWith("change:")){const u=l.slice(7);a.includes(u)?r.push(u):(s.push(o),n.options.onWarn(vt(`Property '${u}' is not defined`,i.key.loc)))}}for(let o=s.length-1;o>=0;o--)e.splice(s[o],1);return r}}function De(t){return t.text||t.escapedText}function uo(t){return t.name?De(t.name):""}function po(t,e){var n;const r=t.heritageClauses;if(!r)return"";const a=r.find(o=>o.token===e.SyntaxKind.ExtendsKeyword),s=(n=a==null?void 0:a.types[0])==null?void 0:n.expression;return!s||!e.isIdentifier(s)?"":De(s)}function _e(t,e){return t.kind===e.SyntaxKind.StringKeyword||t.kind===e.SyntaxKind.BooleanKeyword||t.kind===e.SyntaxKind.NumberKeyword||t.kind===e.SyntaxKind.UndefinedKeyword}function fo(t,e){if(!e.isPropertyDeclaration(t)||t.modifiers&&t.modifiers.length>0&&t.modifiers.some(i=>i.kind===e.SyntaxKind.ReadonlyKeyword)||!t.type)return;const n=t.name;if(!e.isIdentifier(n))return;const r=De(n),a=t.type;if(!e.isUnionTypeNode(a))return!e.isTypeReferenceNode(a)&&!_e(a,e)&&!e.isLiteralTypeNode(a)&&!e.isArrayTypeNode(a)?void 0:{memberName:r,type:a,optional:!!t.questionToken};const s=a.types.filter(i=>i.kind!==e.SyntaxKind.UndefinedKeyword&&!(e.isLiteralTypeNode(i)&&i.literal.kind===e.SyntaxKind.NullKeyword));if(s.length!==1)return;const o=s[0];if(!(!e.isTypeReferenceNode(o)&&!_e(o,e)&&!e.isLiteralTypeNode(o)))return{memberName:r,type:o,optional:!0}}function ye(t=1,e=2){return" ".repeat(e*t)}function Nt(t,e){return t.split(`
`).map(n=>ye(e)+n).join(`
`)}function Tt(t,e,n){t||(t=new ve.SourceMapGenerator);const r=new ve.SourceMapConsumer(e);return e.sources.forEach((a,s)=>{const o=t._sources;o.has(a)||(o.add(a),t.setSourceContent(a,e.sourcesContent?e.sourcesContent[s]:null))}),r.eachMapping(a=>{const s=n(a.generatedLine,a.generatedColumn);t.addMapping({generated:{line:s?s.line:a.generatedLine,column:s?s.column:a.generatedColumn},original:a.originalLine?{line:a.originalLine,column:a.originalColumn||0}:null,source:a.source||"",name:a.name||""})}),t}const Cn="ARRAY_STRING",ho=new we(2e3);function mo(t,e){if(e.isTypeReferenceNode(t)&&e.isIdentifier(t.typeName))switch(De(t.typeName)){case"UniSharedDataEnum":return"uint16";case"UniSharedDataAny":return"UniSharedDataAny";case"UniSharedDataArray":return"UniSharedDataArray";case"UniSharedDataJSONObject":return"UniSharedDataJSONObject";case"UniSharedDataVFor":return"UniSharedDataVFor";case"UniSharedDataFunctionEventListener":return"UniSharedDataFunctionEventListener";case"UniSharedDataFunctionSetTemplateRef":return"UniSharedDataFunctionSetTemplateRef";case"UniElementStyles":return"UniElementStyles";case"Array":if(t.typeArguments&&t.typeArguments.length===1&&_e(t.typeArguments[0],e)&&t.typeArguments[0].kind===e.SyntaxKind.StringKeyword)return Cn;default:return"UniSharedDataComponent|"+De(t.typeName)}if(_e(t,e))switch(t.kind){case e.SyntaxKind.StringKeyword:return"string";case e.SyntaxKind.BooleanKeyword:return"bool";case e.SyntaxKind.NumberKeyword:return"double";case e.SyntaxKind.UndefinedKeyword:return"null"}if(e.isArrayTypeNode(t)&&_e(t.elementType,e)&&t.elementType.kind===e.SyntaxKind.StringKeyword)return Cn;if(e.isLiteralTypeNode(t)&&t.literal.kind===e.SyntaxKind.NullKeyword)return"null"}function go(t,e){const n=e.ts,r=t.name,a={files:[]};if(!r)return a;const s=uo(t);if(!s)return a;const o=po(t,n);if(!o)return a;const i=o==="UniSharedDataPage",l=o==="UniSharedDataComponent",u=i?"DEFINE_USER_PAGE_SHARED_DATA":l?"DEFINE_USER_COMPONENT_SHARED_DATA":"DEFINE_USER_SHARED_DATA",c="DEFINE_SHARED_DATA",p=c+"_MEMBER",f="DEFINE_SHARED_DATA_MEMBER_FLAG",h=u+"_CPP",m=h+"_INIT",E=c+"_CPP",v=E+"_INIT_MEMBER",$=E+"_MEMBER_SETTER",S=t.members;let C="",P="",k=`${u}(${s},
`,Z=`${h}(${s},
`,de=ye(1)+`${m}(${s},
`,A="",Q=new Set;for(let W=0;W<S.length;W++){const ee=S[W],B=fo(ee,n);if(!B)continue;const q=B.optional,M=B.memberName,fe=B.type,ie=mo(fe,n),{index:G,bitValue:he}=ho.getGroupInfo(M),H="_flag"+G;if(Q.add(H),!ie)continue;let[K,xe]=ie.split("|"),le=`${p}_${K.toUpperCase()}`,Ee=`${$}_${K.toUpperCase()}`;(q||K==="UniSharedDataAny")&&K!=="null"&&(le+="_OR_NULL",Ee+="_OR_NULL"),C+=ye(1)+`${le}(${M}`,de+=ye(2)+`${v}(${M})
`,A+=ye(1)+`${Ee}(${s}, ${M}`,C+=`)
`,A+=`, ${H}, ${he})
`}P=Array.from(Q).map(W=>ye(1)+`${f}(${W})
`).join("")+`
`,de+=ye(1)+`)
`,k+=P+C+")",Z+=de+A+")";let F=null;if(i||l){Z=`namespace {
${Nt(`inline ${e.renderElementCode}`,1)}
${Nt(`inline ${e.renderNativeViewCode}`,1)}
}
${Z}`;const W=new ve.SourceMapGenerator;let ee=1;const B=Nt("",1).length;e.renderElementSourceMap&&(Tt(W,e.renderElementSourceMap,(q,M)=>({line:q+ee,column:M+B})),ee+=e.renderElementCode.split(`
`).length),e.renderNativeViewSourceMap&&Tt(W,e.renderNativeViewSourceMap,(q,M)=>({line:q+ee,column:M+B})),F=W.toJSON()}return{files:[{code:k,name:`${s}.h`,class:s,map:null},{code:Z,name:`${s}.cpp`,class:s,map:F}],groupName:l||i?s:void 0}}function In(t,e){return e.targetLanguage==="cpp"?go(t,e):{files:[]}}function yo(t){return{files:[{name:"GenAppSharedData.h",code:`#pragma once
#include "sdk.h"

DEFINE_USER_APP_SHARED_DATA(GenAppSharedData,
  DEFINE_SHARED_DATA_MEMBER_FLAG(_flag0)
)`,classes:["GenAppSharedData"]},{name:"GenAppSharedData.cpp",code:`#include "GenAppSharedData.h"

DEFINE_USER_APP_SHARED_DATA_CPP(GenAppSharedData,
  DEFINE_USER_APP_SHARED_DATA_CPP_INIT(GenAppSharedData,
  )
)`,classes:["GenAppSharedData"]}]}}function Eo(t){let e=[],n=[];return t.forEach(r=>{r.src&&e.push(`#include "${r.src.trim()}"`),r.namespace&&n.push(`using namespace ${r.namespace.trim()};`)}),{includeCode:e.join(`
`),useCode:n.join(`
`)}}function $o(t,e){const n=t.map(p=>In(p,e)),r={name:".cpp",code:"",classes:[]},a={name:".h",code:"",classes:[]},s=Eo(e.scriptCppBlocks||[]),o=s.includeCode?s.includeCode+`

`:"",i=s.useCode?s.useCode+`

`:"",l=(o?o.split(`
`).length-1:0)+(i?i.split(`
`).length-1:0)+2;let u="",c=null;return n.forEach(p=>{p.groupName&&(u=p.groupName),p.files.forEach(f=>{if(f.name.endsWith(".h"))a.code+=(a.code?`

`:"")+f.code,a.classes.push(f.class);else if(f.name.endsWith(".cpp")){if(f.map){const h=r.code?l+r.code.split(`
`).length+1:l,m=new ve.SourceMapGenerator;Tt(m,f.map,(E,v)=>({line:E+h,column:v})),c=m.toJSON()}r.code+=(r.code?`

`:"")+f.code,r.classes.push(f.class)}})}),u&&(a.name=`${u}.h`,r.name=`${u}.cpp`,a.code=`#pragma once
#include "sdk.h"

${a.code}`,r.code=`#include "${a.name}"

${o}${i}${r.code}`,r.map=c),{files:[r,a]}}exports.parse=T.parse,exports.COMPONENT_TYPE=rr,exports.DOM2_APP_PLATFORM=Ot,exports.RENDERER_TYPE=er,exports.TARGET_LANGUAGE=nr,exports.TARGET_PLATFORM=Ot,exports.compile=ao,exports.genAppSharedData=yo,exports.genSharedData=$o,exports.genSharedDataClass=In,exports.getSharedDataResult=no;
