(function(){function a(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return(a+"").replace(/[&<>"'/]/g,function(a){return b[a]})}function b(a){var b=[];return t.dom.findAll("a:not([data-nosearch])").forEach(function(c){var d=c.href,e=c.getAttribute("href"),f=a.parse(d).path;f&&-1===b.indexOf(f)&&!Docsify.util.isAbsolutePath(e)&&b.push(f)}),b}function c(a){localStorage.setItem("docsify.search.expires",Date.now()+a),localStorage.setItem("docsify.search.index",JSON.stringify(u))}function d(a){var b="";if(!!a.cells&&!!a.cells.length)for(var c,d=0,e=a.cells.length;d<e;d++){c=a.cells[d];for(var f=0,g=c.length;f<g;f++)c[f].trim()&&(b+=c[f]+" ")}return b}function e(a,b,c,e){if(b=b.replace(/^\s*$/g,"")||"",!b.match(/^#/)){var f="uni-app",g=a.match(/\/([^\/]+)/i);g&&g[1]&&(f=g[1]),b="# "+f+"\n"+b}var h,i=window.marked.lexer(b),j=window.Docsify.slugify,k={},l=null,m=3;return i.forEach(function(b){if("heading"===b.type&&b.depth<=e){b.depth<m&&(l=null),b.depth===m&&(l=b.text);var f=b.text.match(/@([A-Za-z0-9\-]+)/),g="";f?(g=f[1],b.text=b.text.replace(f[0],"")):g=b.text,h=c.toURL(a,{id:j(g)}),k[h]={slug:h,title:b.text,body:""},b.depth===4&&l&&(k[h].title=l+"#"+k[h].title)}else{if(!h)return;k[h]?k[h].body?"table"===b.type?k[h].body+="\n"+d(b):k[h].body+="\n"+(b.text||""):"table"===b.type?k[h].body=d(b):k[h].body=b.text:k[h]={slug:h,title:"",body:""}}}),j.clear(),k}function f(a){var b=a.title||"",c=a.body||"";return b=b.replace(/\(.*\)/,""),c=c.replace(/\n\s+/g,""),{title:g(b),body:g(c),slug:a.slug}}function g(a){var b=/[*]/gi;return a.replace(b,"")}function h(b){var c=[],d=[];Object.keys(u).forEach(function(a){d=d.concat(Object.keys(u[a]).map(function(b){return u[a][b]}))});for(var e=b,g=function(b){var g=f(d[b]),h=!1,i="",j=g.title&&g.title.trim(),k=g.body&&g.body.trim(),l=g.slug||"";if(j&&k){var m=new RegExp(e.replace("-","-").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),n=-1;if(isTitle=j&&j.match(m),isContent=k&&k.match(m),!isTitle&&!isContent)h=!1;else{h=!0;var n=0;isContent&&(n=k.indexOf(e));var o=0,p=0,q=v?70:500;o=11>n?0:n-10,p=0==o?q:n+e.length+q,p>k.length&&(p=k.length);var r="..."+a(k.substring(o,p)).replace(m,"<em class=\"search-keyword\">"+e+"</em>")+"...";i+=r,j=a(j).replace(m,"<em class=\"search-keyword\">"+e+"</em>")}if(h){var s={title:j,content:i,url:l};0===j.indexOf("<em class=")?c.unshift(s):c.push(s)}}},h=0;h<d.length;h++)g(h);return c}function i(a,d){t=Docsify;var f="auto"===a.paths,g=localStorage.getItem("docsify.search.expires")<Date.now();if(u=JSON.parse(localStorage.getItem("docsify.search.index")),g)u={};else if(!f)return;var h=f?b(d.router):a.paths,i=h.length,j=0;h.forEach(function(b){return u[b]?j++:void t.get(d.router.getFile(b),!1,d.config.requestHeaders).then(function(f){u[b]=e(b,f,d.router,a.depth),i===++j&&c(a.maxAge)})})}function j(a,b){void 0===b&&(b="");var c="<div class=\"input-wrap\">\n      <input type=\"search\" value=\""+b+"\" placeholder=\"\u641C\u7D22\">\n      <div class=\"clear-button\">\n        <svg width=\"26\" height=\"24\">\n          <circle cx=\"12\" cy=\"12\" r=\"11\" fill=\"#ccc\" />\n          <path stroke=\"white\" stroke-width=\"2\" d=\"M8.25,8.25,15.75,15.75\" />\n          <path stroke=\"white\" stroke-width=\"2\"d=\"M8.25,15.75,15.75,8.25\" />\n        </svg>\n      </div>\n    </div>\n    <div class=\"results-panel\"></div>\n    </div>",d=Docsify.dom.create("div",c),e=Docsify.dom.find("aside"),f=Docsify.dom.find(".app-nav");Docsify.dom.toggleClass(d,"search"),v&&Docsify.dom.toggleClass(d,"mobile"),v?Docsify.dom.before(e,d):(Docsify.dom.toggleClass(d,"nav-search"),Docsify.dom.before(f,d))}function k(a,b){var c=new RegExp(b.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),d=/&lt;span style='font-weight:bold;color:red'&gt;/g,e=/&lt;\/span&gt;/g;return a.replace(d,"").replace(e,"").replace(c,"<em class=\"search-keyword\">"+b+"</em>")}function l(a,b){var c="",d="\u89C4\u8303";switch(!b||(a.title=k(a.title,b),a.content=k(a.content,b)),c+="<div class=\"matching-post\">\n",a.type){case"questions":d="\u95EE\u9898";break;case"articles":d="\u6587\u7AE0";break;default:}if(c+="<a href=\""+a.url+"\" target=\"_blank\"><div class=\"post-wrapper\">",!!b){var e="questions"===a.type?"\u56DE\u590D":"\u8BC4\u8BBA";c+="<p class=\"aw-text\"><span class=\"post-tag\">"+d+"</span></p>"}else c+="<p class=\"aw-text\"><span class=\"post-tag\">"+d+"</span></p>";return c+="\n<h2>"+a.title+"</h2></div>",!b||(c+="<p>"+a.comment_count+"\u4E2A"+e+"<span class=\"aw-text-space\">-</span>"+a.view_count+"\u6B21\u6D4F\u89C8</p>"),c+="\n<p>"+a.content+"</p>\n</a>\n</div>",c}function m(a){var b="";return b+="<div class=\"matching-post\">\n",b+="<a href=\""+a.url+"\" target=\"_blank\"><div class=\"post-wrapper\">",b+="<p class=\"aw-text\"><span class=\"post-tag\">\u63D2\u4EF6</span></p>",b+="\n<h2>"+a.name+"</h2></div>",b+="<p>"+a.total_download+"\u6B21\u4E0B\u8F7D</p>",b+="\n<p>"+a.description+"</p>\n</a>\n</div>",b}function n(a,b){var c=Docsify.dom.find("div.search"),d=v?Docsify.dom.find(c,".results-panel"):document.getElementById("search-results"),e=Docsify.dom.find(c,".clear-button"),f=document.getElementById("main");if(!a)return e.classList.remove("show"),d.classList.remove("show"),d.innerHTML="",!v&&f&&f.classList.remove("hide"),void(b.config.searchPlugin.searching=!1);var g=h(a),i="";g.forEach(function(a){i+=l(a)}),d.classList.add("show"),e.classList.add("show"),d.innerHTML=i||"<p class=\"empty\"></p>",v||f.classList.add("hide"),$docsify.get("//ext.dcloud.net.cn/search/json?query="+encodeURIComponent(a)).then(function(b){var c=JSON.parse(b);if(0===c.ret){for(var e=c.data,f="",g=0,h=e.length;g<h;g++)f+=m(e[g],a);d.innerHTML+=f}$docsify.get("//ask.dcloud.net.cn/search/ajax/search_result/search_type-doc__q-"+a+"__page-1").then(function(b){if(b){var c=JSON.parse(b);if(0!==c.code)return void(i||(d.innerHTML="<p class=\"empty\">"+w+"</p>"));var e=c.data,f="";e.forEach(function(b){f+=l(b,a)}),!f||(f+="<div class=\"more\"><a href=\"//ask.dcloud.net.cn/search/q-"+c.searchKeyword+"#all\" target=\"_blank\">\u524D\u5F80\u793E\u533A\u641C\u7D22\u66F4\u591A\u5185\u5BB9</a></div>",d.innerHTML+=f)}})}),b.config.searchPlugin.searching=!0}function o(a){var b,c=Docsify.dom.find("div.search"),d=Docsify.dom.find(c,"input"),e=Docsify.dom.find(c,".input-wrap");Docsify.dom.on(c,"click",function(a){return"A"!==a.target.tagName&&a.stopPropagation()}),Docsify.dom.on(d,"input",function(c){clearTimeout(b),b=setTimeout(function(){return n(c.target.value.trim(),a)},1e3)}),Docsify.dom.on(e,"click",function(b){"INPUT"!==b.target.tagName&&(d.value="",n("",a))})}function p(a,b){var c=Docsify.dom.getNode(".search input[type=\"search\"]");if(c)if("string"==typeof a)c.placeholder=a;else{var d=Object.keys(a).filter(function(a){return-1<b.indexOf(a)})[0];c.placeholder=a[d]}}function q(a,b){if("string"==typeof a)w=a;else{var c=Object.keys(a).filter(function(a){return-1<b.indexOf(a)})[0];w=a[c]}}function r(a,b){var c=b.router.parse().query.s;j(a,c),o(b),c&&setTimeout(function(){return n(c,b)},500)}function s(a,b){p(a.placeholder,b.route.path),q(a.noData,b.route.path)}var t,u={},v=600>=document.body.clientWidth;var w="";var x={placeholder:"Type to search",noData:"No Results!",paths:"auto",depth:2,maxAge:864e5},y=function(a,b){var c=Docsify.util,d=a.config.search||x;return Array.isArray(d)?b.paths=d:"object"==typeof d&&(b.paths=Array.isArray(d.paths)?d.paths:"auto",b.maxAge=c.isPrimitive(d.maxAge)?d.maxAge:b.maxAge,b.placeholder=d.placeholder||b.placeholder,b.noData=d.noData||b.noData,b.depth=d.depth||b.depth),b};$docsify.searchPlugin={install:function(a,b){var c=y(b,x),d="auto"===c.paths;a.mounted(function(){r(c,b),d||i(c,b)}),a.doneEach(function(){s(c,b),d&&i(c,b)})},clear:function(a){var b=Docsify.dom.find("div.search"),c=Docsify.dom.find(b,"input"),d=v?Docsify.dom.find(b,".results-panel"):document.getElementById("search-results"),e=Docsify.dom.find(b,".clear-button"),f=document.getElementById("main");c.value="",e.classList.remove("show"),d.classList.remove("show"),d.innerHTML="",!v&&f&&f.classList.remove("hide"),a.config.searchPlugin.searching=!1},searching:!1,init:r}})();